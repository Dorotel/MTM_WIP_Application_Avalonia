<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialIcons="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             x:Class="MTM_WIP_Application_Avalonia.App"
             RequestedThemeVariant="Default">
             <!-- "Default" ThemeVariant follows system theme variant. "Dark" or "Light" are other available options. -->

    <Application.Styles>
        <!-- Use FluentTheme with Inter font -->
        <FluentTheme>
            <FluentTheme.Palettes>
                <ColorPaletteResources x:Key="Light" Accent="#4B45ED" AltHigh="White" AltLow="White" AltMedium="White" AltMediumHigh="White" AltMediumLow="White" BaseHigh="Black" BaseLow="#CCCCCC" BaseMedium="#898989" BaseMediumHigh="#5D5D5D" BaseMediumLow="#737373" ChromeAltLow="#F2F2F2" ChromeBlackHigh="Black" ChromeBlackLow="#CCCCCC" ChromeBlackMedium="#5D5D5D" ChromeBlackMediumLow="#898989" ChromeDisabledHigh="#CCCCCC" ChromeDisabledLow="#898989" ChromeHigh="#CCCCCC" ChromeLow="#F2F2F2" ChromeMedium="#E6E6E6" ChromeMediumLow="#F2F2F2" ChromeWhite="White" ListLow="#E6E6E6" ListMedium="#CCCCCC" RegionColor="#F2F2F2" />
                <ColorPaletteResources x:Key="Dark" Accent="#4B45ED" AltHigh="Black" AltLow="Black" AltMedium="Black" AltMediumHigh="Black" AltMediumLow="Black" BaseHigh="White" BaseLow="#333333" BaseMedium="#9A9A9A" BaseMediumHigh="#B4B4B4" BaseMediumLow="#676767" ChromeAltLow="#171717" ChromeBlackHigh="Black" ChromeBlackLow="#9A9A9A" ChromeBlackMedium="#B4B4B4" ChromeBlackMediumLow="#676767" ChromeDisabledHigh="#333333" ChromeDisabledLow="#9A9A9A" ChromeHigh="#767676" ChromeLow="#171717" ChromeMedium="#1E1E1E" ChromeMediumLow="#2C2C2C" ChromeWhite="White" ListLow="#1E1E1E" ListMedium="#333333" RegionColor="#171717" />
            </FluentTheme.Palettes>
        </FluentTheme>
        
        <!-- Material Icons Styles - REQUIRED for Material.Icons.Avalonia -->
        <materialIcons:MaterialIconStyles />
        
        <!-- MTM Component Styles -->
        <StyleInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTMComponents.axaml"/>
        
        <!-- CRITICAL FIX: Global text control overrides to ensure visible text -->
        <!-- =================================================================== -->
        <!-- COMPREHENSIVE AVALONIA UI COMPONENT STYLES                         -->
        <!-- Theme-ready with DynamicResource bindings for future theme system  -->
        <!-- =================================================================== -->
        
        <!-- =================================================================== -->
        <!-- CORE INPUT CONTROLS                                                -->
        <!-- =================================================================== -->
        
        <!-- TextBox - Primary text input control -->
        <Style Selector="TextBox">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="SelectionBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="AcceptsReturn" Value="False"/>
            <Setter Property="AcceptsTab" Value="False"/>
            <Setter Property="TextWrapping" Value="NoWrap"/>
        </Style>
        
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>
        
        <Style Selector="TextBox:disabled">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
        </Style>
        
        <Style Selector="TextBox:pointerover">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightBaseHighBrush}"/>
        </Style>

        <!-- AutoCompleteBox - Enhanced text input with completion -->
        <Style Selector="AutoCompleteBox">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="MaxDropDownHeight" Value="200"/>
            <Setter Property="FilterMode" Value="Contains"/>
        </Style>
        
        <Style Selector="AutoCompleteBox:focus">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>
        
        <Style Selector="AutoCompleteBox:disabled">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
        </Style>

        <!-- ComboBox - Dropdown selection control -->
        <Style Selector="ComboBox">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="MaxDropDownHeight" Value="200"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        
        <Style Selector="ComboBox:focus">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>
        
        <Style Selector="ComboBox:disabled">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
        </Style>

        <!-- TextBlock - Primary text display control -->
        <Style Selector="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="TextWrapping" Value="NoWrap"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <!-- Label equivalent (using TextBlock) -->
        <Style Selector="TextBlock.label">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,8,4"/>
        </Style>
        
        <!-- AccessText - Text with mnemonic support -->
        <Style Selector="AccessText">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>

        <!-- Button - Standard button control -->
        <Style Selector="Button">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundTransparentBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="MinWidth" Value="64"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="Button:pointerover">
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseMediumLowBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightBaseMediumLowBrush}"/>
        </Style>
        
        <Style Selector="Button:pressed">
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseMediumBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightBaseMediumBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightBaseHighBrush}"/>
        </Style>
        
        <Style Selector="Button:disabled">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
        </Style>

        <!-- ToggleButton - Toggle state button -->
        <Style Selector="ToggleButton">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundTransparentBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="ToggleButton:checked">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAltBaseHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
        </Style>

        <!-- RepeatButton - Button with repeat functionality -->
        <Style Selector="RepeatButton">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundTransparentBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="24"/>
            <Setter Property="MinWidth" Value="24"/>
        </Style>

        <!-- CheckBox - Boolean selection control -->
        <Style Selector="CheckBox">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="2"/>
            <Setter Property="Padding" Value="8,0,0,0"/>
            <Setter Property="MinHeight" Value="20"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="CheckBox:checked">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
        </Style>
        
        <Style Selector="CheckBox:disabled">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
        </Style>

        <!-- RadioButton - Single selection from group -->
        <Style Selector="RadioButton">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="8,0,0,0"/>
            <Setter Property="MinHeight" Value="20"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="RadioButton:checked">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
        </Style>

        <!-- ListBox - List selection control -->
        <Style Selector="ListBox">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
        </Style>
        
        <!-- ListBoxItem - Individual list items -->
        <Style Selector="ListBoxItem">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="ListBoxItem:pointerover">
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundListLowBrush}"/>
        </Style>
        
        <Style Selector="ListBoxItem:selected">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightListAccentLowBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAltBaseHighBrush}"/>
        </Style>

        <!-- DataGrid - Tabular data display -->
        <Style Selector="DataGrid">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="RowHeight" Value="32"/>
            <Setter Property="ColumnHeaderHeight" Value="36"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="CanUserReorderColumns" Value="True"/>
            <Setter Property="CanUserResizeColumns" Value="True"/>
            <Setter Property="CanUserSortColumns" Value="True"/>
            <Setter Property="SelectionMode" Value="Single"/>
        </Style>
        
        <!-- DataGridCell - Individual data cells -->
        <Style Selector="DataGridCell">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        
        <Style Selector="DataGridCell:selected">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightListAccentLowBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAltBaseHighBrush}"/>
        </Style>
        
        <!-- DataGridColumnHeader - Column headers -->
        <Style Selector="DataGridColumnHeader">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        
        <!-- DataGridRowHeader - Row headers -->
        <Style Selector="DataGridRowHeader">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Width" Value="24"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
        </Style>

        <!-- Menu - Application menu -->
        <Style Selector="Menu">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
        
        <!-- MenuItem - Individual menu items -->
        <Style Selector="MenuItem">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="CornerRadius" Value="2"/>
            <Setter Property="MinHeight" Value="32"/>
        </Style>
        
        <Style Selector="MenuItem:pointerover">
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundListLowBrush}"/>
        </Style>
        
        <Style Selector="MenuItem:selected">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightListAccentLowBrush}"/>
        </Style>

        <!-- TabControl - Tab navigation -->
        <Style Selector="TabControl">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="TabStripPlacement" Value="Top"/>
        </Style>
        
        <!-- TabItem - Individual tab headers -->
        <Style Selector="TabItem">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="MinHeight" Value="36"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <Style Selector="TabItem:selected">
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAltBaseHighBrush}"/>
        </Style>

        <!-- NumericUpDown - Numeric input with spinner -->
        <Style Selector="NumericUpDown">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="HorizontalContentAlignment" Value="Right"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        
        <!-- DatePicker - Date selection control -->
        <Style Selector="DatePicker">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
        </Style>
        
        <!-- TimePicker - Time selection control -->
        <Style Selector="TimePicker">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
        </Style>
        
        <!-- CalendarDatePicker - Calendar-based date picker -->
        <Style Selector="CalendarDatePicker">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="MinHeight" Value="32"/>
        </Style>

        <!-- Slider - Range selection control -->
        <Style Selector="Slider">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="Orientation" Value="Horizontal"/>
        </Style>
        
        <!-- ProgressBar - Progress indication -->
        <Style Selector="ProgressBar">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="MinHeight" Value="6"/>
            <Setter Property="Maximum" Value="100"/>
            <Setter Property="Minimum" Value="0"/>
        </Style>

        <!-- TreeView - Hierarchical data display -->
        <Style Selector="TreeView">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="4"/>
        </Style>
        
        <!-- TreeViewItem - Individual tree nodes -->
        <Style Selector="TreeViewItem">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="4,2"/>
            <Setter Property="MinHeight" Value="24"/>
        </Style>
        
        <Style Selector="TreeViewItem:selected">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightListAccentLowBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource SystemControlHighlightAltBaseHighBrush}"/>
        </Style>

        <!-- Expander - Collapsible content control -->
        <Style Selector="Expander">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8"/>
        </Style>
        
        <!-- GroupBox equivalent (using Border with header) -->
        <Style Selector="HeaderedContentControl">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8"/>
        </Style>

        <!-- ToolTip - Contextual help display -->
        <Style Selector="ToolTip">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="Background" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="MaxWidth" Value="400"/>
        </Style>

        <!-- ContentControl - Generic content container -->
        <Style Selector="ContentControl">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Top"/>
        </Style>
        
        <!-- ContentPresenter - Content rendering control -->
        <Style Selector="ContentPresenter">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
        
        <!-- ScrollViewer - Scrollable content container -->
        <Style Selector="ScrollViewer">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
        </Style>
        
        <!-- Border - Decorative border container -->
        <Style Selector="Border">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="0"/>
        </Style>

        <!-- TextBox watermark/placeholder text -->
        <Style Selector="TextBox /template/ TextBlock#PART_Watermark">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontStyle" Value="Italic"/>
            <Setter Property="IsHitTestVisible" Value="False"/>
        </Style>
        
        <!-- AutoCompleteBox watermark/placeholder text -->
        <Style Selector="AutoCompleteBox /template/ TextBlock#PART_Watermark">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontStyle" Value="Italic"/>
            <Setter Property="IsHitTestVisible" Value="False"/>
        </Style>

        <!-- Validation error styles for inputs -->
        <Style Selector="TextBox.error">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlErrorTextForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>
        
        <Style Selector="AutoCompleteBox.error">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlErrorTextForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>
        
        <Style Selector="ComboBox.error">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlErrorTextForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>
        
        <!-- Validation summary control -->
        <Style Selector="TextBlock.validation-error">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlErrorTextForegroundBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Arial, sans-serif"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- THEME RESOURCE FALLBACKS -->
        <!-- These provide fallback values when system theme resources aren't available -->
        
        <!-- Override with hard-coded values as absolute fallback -->
        <Style Selector="TextBox.fallback">
            <Setter Property="Foreground" Value="#2D1B69"/>
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#E8E5FF"/>
            <Setter Property="CaretBrush" Value="#4B45ED"/>
        </Style>
        
        <Style Selector="AutoCompleteBox.fallback">
            <Setter Property="Foreground" Value="#2D1B69"/>
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#E8E5FF"/>
        </Style>
        
        <Style Selector="ComboBox.fallback">
            <Setter Property="Foreground" Value="#2D1B69"/>
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#E8E5FF"/>
        </Style>
        
        <Style Selector="TextBlock.fallback">
            <Setter Property="Foreground" Value="#2D1B69"/>
        </Style>
    </Application.Styles>

    <Application.Resources>
        <!-- Include MTM Theme Resources -->
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Core MTM Theme Resources -->
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTMTheme.axaml"/>
                
                <!-- All 15 Available Themes for Dynamic Switching -->
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Light.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Dark.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_HighContrast.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Blue.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Blue_Dark.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Green.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Green_Dark.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Red.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Teal.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Teal_Dark.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Amber.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Indigo.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Indigo_Dark.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Rose.axaml"/>
                <ResourceInclude Source="avares://MTM_WIP_Application_Avalonia/Resources/Themes/MTM_Emerald.axaml"/>
            </ResourceDictionary.MergedDictionaries>
            
            <!-- Additional legacy aliases for backward compatibility -->
            <SolidColorBrush x:Key="MTM_Shared_Logic.BackgroundBrush" Color="#F8F7FF"/>
            <SolidColorBrush x:Key="MTM_Shared_Logic.LightBackgroundBrush" Color="#FAFAFA"/>
        </ResourceDictionary>
    </Application.Resources>
</Application>
