<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:MTM_WIP_Application_Avalonia.ViewModels"
             xmlns:materialIcons="using:Material.Icons.Avalonia"
             mc:Ignorable="d"
             d:DesignWidth="800"
             d:DesignHeight="600"
             x:Class="MTM_WIP_Application_Avalonia.Views.InventoryTabView"
             x:CompileBindings="True"
             x:DataType="vm:InventoryTabViewModel">

  <UserControl.Resources>
    <!-- Black, White, Gold Color Scheme -->
    <SolidColorBrush x:Key="PrimaryBrush" Color="#FFD700"/>           <!-- Gold -->
    <SolidColorBrush x:Key="PrimaryDarkBrush" Color="#DAA520"/>       <!-- Dark Gold -->
    <SolidColorBrush x:Key="SecondaryBrush" Color="#F5F5DC"/>         <!-- Beige -->
    <SolidColorBrush x:Key="CardBackgroundBrush" Color="#FFFFFF"/>    <!-- White -->
    <SolidColorBrush x:Key="BorderBrush" Color="#E0E0E0"/>            <!-- Light Gray -->
    <SolidColorBrush x:Key="PrimaryTextBrush" Color="#000000"/>       <!-- Black Text -->
    <SolidColorBrush x:Key="AccentBrush" Color="#4169E1"/>            <!-- Royal Blue for icons -->
  </UserControl.Resources>

  <UserControl.Styles>
    <!-- Compact Input Styles -->
    <Style Selector="TextBox.input-field">
      <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="3"/>
      <Setter Property="Padding" Value="6,3"/>
      <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
      <Setter Property="FontSize" Value="10"/>
      <Setter Property="MinHeight" Value="24"/>
      <Setter Property="Margin" Value="2"/>
    </Style>

    <Style Selector="ComboBox.input-field">
      <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="3"/>
      <Setter Property="Padding" Value="6,3"/>
      <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
      <Setter Property="FontSize" Value="10"/>
      <Setter Property="MinHeight" Value="24"/>
      <Setter Property="Margin" Value="2"/>
    </Style>

    <!-- Compact Button Styles -->
    <Style Selector="Button.action-button">
      <Setter Property="Padding" Value="6,3"/>
      <Setter Property="Margin" Value="2"/>
      <Setter Property="FontSize" Value="10"/>
      <Setter Property="FontWeight" Value="Medium"/>
      <Setter Property="CornerRadius" Value="3"/>
      <Setter Property="MinHeight" Value="24"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="HorizontalContentAlignment" Value="Center"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
    </Style>
    
    <Style Selector="Button.primary">
      <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
      <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
      <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
    </Style>
    <Style Selector="Button.primary:pointerover">
      <Setter Property="Background" Value="{StaticResource PrimaryDarkBrush}"/>
    </Style>

    <Style Selector="Button.secondary">
      <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
      <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
      <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
    </Style>
    <Style Selector="Button.secondary:pointerover">
      <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
      <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
    </Style>
  </UserControl.Styles>

  <!-- Main container with proper spacing -->
  <Grid RowDefinitions="*,Auto" 
        HorizontalAlignment="Stretch" 
        VerticalAlignment="Stretch"
        Margin="0"
        Background="{StaticResource CardBackgroundBrush}">

    <!-- Main Panel -->
    <Border Grid.Row="0"
            Background="{StaticResource CardBackgroundBrush}"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            CornerRadius="4"
            Padding="4"
            Margin="4"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch">
      
      <!-- Inventory Entry Form -->
      <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,*">
        
        <!-- Header -->
        <Border Grid.Row="0" 
                Background="{StaticResource PrimaryBrush}"
                CornerRadius="3"
                Padding="6,4"
                Margin="0,0,0,4">
          <Grid ColumnDefinitions="Auto,*,Auto">
            <materialIcons:MaterialIcon Grid.Column="0"
                                        Kind="Package"
                                        Width="14"
                                        Height="14"
                                        Foreground="{StaticResource AccentBrush}"
                                        VerticalAlignment="Center"
                                        Margin="0,0,4,0"/>
            <TextBlock Grid.Column="1"
                       Text="Inventory Entry"
                       FontSize="11"
                       FontWeight="SemiBold"
                       Foreground="{StaticResource PrimaryTextBrush}"
                       VerticalAlignment="Center"/>
          </Grid>
        </Border>

        <!-- Part ID -->
        <StackPanel Grid.Row="1" Spacing="2" Margin="0,2">
          <Grid ColumnDefinitions="Auto,*" ColumnSpacing="3" Margin="0,0,0,1">
            <materialIcons:MaterialIcon Grid.Column="0"
                                        Kind="Identifier"
                                        Width="10"
                                        Height="10"
                                        Foreground="{StaticResource AccentBrush}"
                                        VerticalAlignment="Center"
                                        ToolTip.Tip="Part ID"/>
          </Grid>
          <ComboBox ItemsSource="{Binding PartOptions}"
                    SelectedItem="{Binding SelectedPart, Mode=TwoWay}"
                    Classes="input-field"
                    HorizontalAlignment="Stretch"
                    IsTextSearchEnabled="True"
                    PlaceholderText="Select or enter part ID..."
                    ToolTip.Tip="Select or enter a part number"/>
        </StackPanel>

        <!-- Operation -->
        <StackPanel Grid.Row="2" Spacing="2" Margin="0,2">
          <Grid ColumnDefinitions="Auto,*" ColumnSpacing="3" Margin="0,0,0,1">
            <materialIcons:MaterialIcon Grid.Column="0"
                                        Kind="Cog"
                                        Width="10"
                                        Height="10"
                                        Foreground="{StaticResource AccentBrush}"
                                        VerticalAlignment="Center"
                                        ToolTip.Tip="Operation"/>
          </Grid>
          <ComboBox ItemsSource="{Binding OperationOptions}"
                    SelectedItem="{Binding SelectedOperation, Mode=TwoWay}"
                    Classes="input-field"
                    HorizontalAlignment="Stretch"
                    PlaceholderText="Select operation..."
                    ToolTip.Tip="Select an operation number"/>
        </StackPanel>

        <!-- Quantity -->
        <StackPanel Grid.Row="3" Spacing="2" Margin="0,2">
          <Grid ColumnDefinitions="Auto,*" ColumnSpacing="3" Margin="0,0,0,1">
            <materialIcons:MaterialIcon Grid.Column="0"
                                        Kind="Counter"
                                        Width="10"
                                        Height="10"
                                        Foreground="{StaticResource AccentBrush}"
                                        VerticalAlignment="Center"
                                        ToolTip.Tip="Quantity"/>
          </Grid>
          <TextBox Text="{Binding Quantity, Mode=TwoWay}"
                   Classes="input-field"
                   HorizontalAlignment="Stretch"
                   Watermark="Enter quantity..."
                   ToolTip.Tip="Enter numeric quantity"/>
        </StackPanel>

        <!-- Location -->
        <StackPanel Grid.Row="4" Spacing="2" Margin="0,2">
          <Grid ColumnDefinitions="Auto,*" ColumnSpacing="3" Margin="0,0,0,1">
            <materialIcons:MaterialIcon Grid.Column="0"
                                        Kind="MapMarker"
                                        Width="10"
                                        Height="10"
                                        Foreground="{StaticResource AccentBrush}"
                                        VerticalAlignment="Center"
                                        ToolTip.Tip="Location"/>
          </Grid>
          <ComboBox ItemsSource="{Binding LocationOptions}"
                    SelectedItem="{Binding SelectedLocation, Mode=TwoWay}"
                    Classes="input-field"
                    HorizontalAlignment="Stretch"
                    PlaceholderText="Select location..."
                    ToolTip.Tip="Select a location"/>
        </StackPanel>

        <!-- Notes -->
        <StackPanel Grid.Row="5" Spacing="2" Margin="0,2">
          <Grid ColumnDefinitions="Auto,*" ColumnSpacing="3" Margin="0,0,0,1">
            <materialIcons:MaterialIcon Grid.Column="0"
                                        Kind="NoteText"
                                        Width="10"
                                        Height="10"
                                        Foreground="{StaticResource AccentBrush}"
                                        VerticalAlignment="Top"
                                        Margin="0,4,0,0"
                                        ToolTip.Tip="Notes"/>
          </Grid>
          <TextBox Text="{Binding Notes, Mode=TwoWay}"
                   Classes="input-field"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Stretch"
                   AcceptsReturn="True"
                   TextWrapping="Wrap"
                   MinHeight="60"
                   Watermark="Optional notes (optional)..."
                   ToolTip.Tip="Optional notes or comments"/>
        </StackPanel>

      </Grid>
    </Border>

    <!-- Compact Bottom Action Panel -->
    <Border Grid.Row="1"
            Background="{StaticResource CardBackgroundBrush}"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            CornerRadius="4"
            Padding="6"
            Margin="4,0,4,4">
      <Grid ColumnDefinitions="*,Auto">
        <!-- Left side buttons -->
        <StackPanel Grid.Column="0" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Left" 
                    Spacing="4">
          <Button Classes="action-button primary"
                  Width="60" 
                  Height="24"
                  Command="{Binding SaveCommand}"
                  IsEnabled="{Binding CanSave}"
                  ToolTip.Tip="Save inventory item">
            <StackPanel Orientation="Horizontal" Spacing="3" 
                        HorizontalAlignment="Center" VerticalAlignment="Center">
              <materialIcons:MaterialIcon Kind="ContentSave" Width="10" Height="10"/>
              <TextBlock Text="Save" FontSize="9"/>
            </StackPanel>
          </Button>
          <Button Classes="action-button secondary"
                  Width="70" 
                  Height="24"
                  Command="{Binding AdvancedEntryCommand}"
                  ToolTip.Tip="Open advanced inventory features">
            <StackPanel Orientation="Horizontal" Spacing="3"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
              <materialIcons:MaterialIcon Kind="Settings" Width="10" Height="10"/>
              <TextBlock Text="Advanced" FontSize="9"/>
            </StackPanel>
          </Button>
          <Button Classes="action-button secondary"
                  Width="50" 
                  Height="24"
                  Command="{Binding ResetCommand}"
                  ToolTip.Tip="Reset form">
            <StackPanel Orientation="Horizontal" Spacing="3"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
              <materialIcons:MaterialIcon Kind="Refresh" Width="10" Height="10"/>
              <TextBlock Text="Reset" FontSize="9"/>
            </StackPanel>
          </Button>
        </StackPanel>

        <!-- Right side - version info -->
        <TextBlock Grid.Column="1"
                   Text="{Binding VersionText, FallbackValue='Version: 4.6.0.0'}"
                   FontSize="8"
                   Foreground="{StaticResource PrimaryTextBrush}"
                   Opacity="0.7"
                   VerticalAlignment="Center"/>
      </Grid>
    </Border>
  </Grid>
</UserControl>
