<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Avalonia Project Help & Instructions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>
      <span class="icon" style="color:#736F5D;">&#128214;</span>
      MTM WIP Avalonia Project Help Center
    </h1>
  </header>
  <nav class="topbar">
    <a href="index.html" class="active"><span class="icon">&#8962;</span>Home</a>
    <a href="database-development.html"><span class="icon">&#128203;</span>Database Development</a>
    <a href="coding-conventions.html"><span class="icon">&#128295;</span>Coding Conventions</a>
    <a href="ui-generation.html"><span class="icon">&#128187;</span>UI Generation</a>
    <a href="ui-mapping.html"><span class="icon">&#128247;</span>UI Mapping</a>
    <a href="error-handler.html"><span class="icon">&#9888;</span>Error Handling</a>
    <a href="github-workflow.html"><span class="icon">&#128736;</span>GitHub Workflow</a>
    <a href="naming-conventions.html"><span class="icon">&#128221;</span>Naming Conventions</a>
    <a href="custom-prompts.html"><span class="icon">&#128161;</span>Custom Prompts</a>
    <a href="personas.html"><span class="icon">&#128100;</span>Personas</a>
    <a href="custom-prompts-examples.html"><span class="icon">&#9998;</span>Prompt Examples</a>
    <a href="needs-repair.html"><span class="icon">&#128679;</span>Quality Assurance</a>
    <a href="missing-systems.html"><span class="icon">&#128295;</span>Missing Systems</a>
  </nav>
  <main>
    <h2><span class="icon">&#128214;</span>Welcome to the MTM WIP Avalonia Project Help Site</h2>
    <p>
      This website provides comprehensive help and documentation for all contributors to the MTM WIP Inventory Management System built with Avalonia UI. Each section covers a key part of our workflow or project guidelines, with easy-to-navigate pages, clear formatting, and helpful cross-references.
    </p>
    
    <details open>
      <summary><span class="icon icon-chevron">&#9654;</span>ðŸŽ‰ Critical Database Fix Completed</summary>
      <div class="alert success">
        <h3><span class="icon">&#9989;</span>Critical Fix #1 - Development Unblocked</h3>
        <p><strong>Database Development Status:</strong> <span class="status-success">âœ… UNBLOCKED</span></p>
        <ul>
          <li><strong>âœ… 12 comprehensive stored procedures implemented</strong> - All standard inventory operations available</li>
          <li><strong>âœ… Standardized error handling pattern</strong> - Consistent status codes and error messages</li>
          <li><strong>âœ… Service layer integration ready</strong> - Designed for Helper_Database_StoredProcedure.ExecuteDataTableWithStatus()</li>
          <li><strong>âœ… Complete documentation</strong> - Examples, usage patterns, and integration guidance</li>
        </ul>
        <p><strong>Development Impact:</strong> All new database functionality development can now proceed. The service layer is ready for implementation using the new stored procedures.</p>
        <p>See <a href="database-development.html">Database Development Guide</a> for complete procedure documentation and usage examples.</p>
      </div>
    </details>

    <details open>
      <summary><span class="icon icon-chevron">&#9654;</span>ðŸš¨ Critical Project Status Alert</summary>
      <div class="alert critical">
        <h3><span class="icon">&#128679;</span>Missing Core Systems Identified</h3>
        <p><strong>Current Compliance Status:</strong> <span class="status-critical">25% (CRITICAL RISK)</span></p>
        <ul>
          <li><strong>6 CRITICAL systems missing</strong> - Blocking service layer development</li>
          <li><strong>12 HIGH PRIORITY systems missing</strong> - Architecture violations</li>
          <li><strong>Estimated Fix Time:</strong> 3-4 weeks for full compliance (reduced with database foundation)</li>
        </ul>
        <p><strong>Action Required:</strong> Implement <a href="missing-systems.html">foundational systems</a> before continuing with business logic and UI development.</p>
        <p>See <a href="needs-repair.html">Quality Assurance Dashboard</a> for detailed compliance tracking.</p>
      </div>
    </details>

    <details open>
      <summary><span class="icon icon-chevron">&#9654;</span>Quick Navigation</summary>
      <ul>
        <li><a href="database-development.html"><span class="icon">&#128203;</span>Database Development</a> â€” âœ… **NEW** Complete guide to the 12 new stored procedures and database operations.</li>
        <li><a href="coding-conventions.html"><span class="icon">&#128295;</span>Coding Conventions</a> â€” Our C# and Avalonia code style rules.</li>
        <li><a href="ui-generation.html"><span class="icon">&#128187;</span>UI Generation</a> â€” How to create and structure UI in Avalonia.</li>
        <li><a href="ui-mapping.html"><span class="icon">&#128247;</span>UI Mapping</a> â€” Mapping screenshots to instruction files.</li>
        <li><a href="error-handler.html"><span class="icon">&#9888;</span>Error Handling & Logging</a> â€” How to log errors and handle exceptions.</li>
        <li><a href="github-workflow.html"><span class="icon">&#128736;</span>GitHub Workflow</a> â€” Best practices for branches, PRs, and issues.</li>
        <li><a href="naming-conventions.html"><span class="icon">&#128221;</span>Naming Conventions</a> â€” Rules for naming files, controls, and more.</li>
        <li><a href="custom-prompts.html"><span class="icon">&#128161;</span>Custom Prompts</a> â€” Prompts for Copilot and automation.</li>
        <li><a href="personas.html"><span class="icon">&#128100;</span>Personas</a> â€” Detailed persona roles for prompt engineering.</li>
        <li><a href="custom-prompts-examples.html"><span class="icon">&#9998;</span>Prompt Examples</a> â€” Example prompts for Copilot.</li>
        <li><a href="needs-repair.html"><span class="icon">&#128679;</span>Quality Assurance</a> â€” Code compliance tracking and quality gates.</li>
        <li><a href="missing-systems.html"><span class="icon">&#128295;</span>Missing Systems</a> â€” Critical missing infrastructure and implementation roadmap.</li>
      </ul>
    </details>
    
    <blockquote class="tip">
      <span class="icon">&#128204;</span>
      <strong>IMPORTANT:</strong> Start with <a href="database-development.html">Database Development</a> to understand the new stored procedures. Then review <a href="missing-systems.html">Missing Systems</a> for service layer implementation. New to the project? Continue with <a href="coding-conventions.html">Coding Conventions</a> and <a href="ui-generation.html">UI Generation</a>.
    </blockquote>
    
    <details>
      <summary><span class="icon icon-chevron">&#9654;</span>Implementation Priority Roadmap âœ… **UPDATED**</summary>
      <div class="roadmap">
        <h3><span class="icon">&#9989;</span>âœ… Phase 0: Database Foundation (COMPLETED)</h3>
        <ul>
          <li><strong>âœ… Database Schema</strong> - Complete production schema with all tables</li>
          <li><strong>âœ… Stored Procedures</strong> - 12 comprehensive procedures with error handling</li>
          <li><strong>âœ… Documentation</strong> - Complete procedure documentation with examples</li>
          <li><strong>âœ… Business Logic</strong> - MTM transaction type determination rules implemented</li>
        </ul>
        
        <h3><span class="icon">&#128295;</span>Phase 1: Service Layer Foundation (Week 1) - CRITICAL</h3>
        <ul>
          <li><strong>Result Pattern System</strong> - Models/Result.cs with Success/Failure states âœ… **Ready for database integration**</li>
          <li><strong>Data Models Foundation</strong> - Complete Models namespace with MTM entities âœ… **Can use procedure validation**</li>
          <li><strong>Dependency Injection</strong> - Microsoft.Extensions.DependencyInjection setup</li>
          <li><strong>Core Service Interfaces</strong> - All essential service contracts âœ… **Database operations defined**</li>
        </ul>
        
        <h3><span class="icon">&#128295;</span>Phase 2: Service Implementation (Week 2) - HIGH</h3>
        <ul>
          <li><strong>InventoryService</strong> - âœ… **Can use inv_inventory_* procedures immediately**</li>
          <li><strong>ValidationService</strong> - âœ… **Can use validation procedures (location, operation, user, stock)**</li>
          <li><strong>TransactionService</strong> - âœ… **Can use inv_transaction_Log_New procedure**</li>
          <li><strong>Database Service Layer</strong> - âœ… **Procedures ready for Helper_Database_StoredProcedure.ExecuteDataTableWithStatus()**</li>
          <li><strong>Application State Management</strong> - Global state service with ReactiveUI</li>
          <li><strong>Configuration Service</strong> - appsettings.json management</li>
        </ul>
        
        <h3><span class="icon">&#128295;</span>Phase 3: Infrastructure (Week 3) - MEDIUM</h3>
        <ul>
          <li><strong>Navigation Service</strong> - MVVM navigation with view-viewmodel mapping</li>
          <li><strong>Theme System</strong> - MTM purple brand theme resources</li>
          <li><strong>Repository Pattern</strong> - Data access abstraction layer âœ… **Procedures provide data layer**</li>
          <li><strong>Validation System</strong> - Business rule validation framework âœ… **Procedures include validation**</li>
        </ul>
        
        <h3><span class="icon">&#128295;</span>Phase 4: Quality Assurance (Week 4) - LOW</h3>
        <ul>
          <li><strong>Unit Testing Infrastructure</strong> - xUnit, Moq, FluentAssertions setup âœ… **Can test with validation procedures**</li>
          <li><strong>Structured Logging</strong> - Microsoft.Extensions.Logging integration âœ… **Procedures log to error_log table**</li>
          <li><strong>Caching Layer</strong> - Performance optimization with Microsoft.Extensions.Caching</li>
          <li><strong>Security Infrastructure</strong> - Authentication, authorization, secure connections</li>
        </ul>
      </div>
    </details>

    <details open>
      <summary><span class="icon icon-chevron">&#9654;</span>Recent Workspace Updates (2025-01-27) âœ… **ENHANCED**</summary>
      <ul>
        <li><strong>ðŸŽ‰ Critical Database Fix #1 (COMPLETED)</strong>
          <ul>
            <li>âœ… **12 comprehensive stored procedures** implemented with standardized error handling</li>
            <li>âœ… **Complete documentation** with examples and integration guidance</li>
            <li>âœ… **Service layer integration ready** - designed for existing Helper_Database_StoredProcedure class</li>
            <li>âœ… **MTM business logic compliance** - TransactionType determined by user intent, not operation numbers</li>
            <li>âœ… **Development unblocked** - all new database functionality development can proceed</li>
          </ul>
        </li>
        <li><strong>Database Development Guide (NEW)</strong>
          <ul>
            <li>Complete stored procedure documentation in Development/Database_Files/README_NewProcedures.md</li>
            <li>Usage examples for all 12 procedures with C# service layer integration patterns</li>
            <li>Error handling patterns and status code explanations</li>
            <li>Business rule enforcement and validation procedures</li>
          </ul>
        </li>
        <li><strong>Quality Assurance System (UPDATED)</strong>
          <ul>
            <li>Standalone compliance reporting system in Development/Compliance Reports/ folder</li>
            <li>Updated missing systems analysis - reduced from 19 to 18 gaps with database completion</li>
            <li>Custom prompts for implementing remaining missing infrastructure</li>
            <li>Phase-based implementation roadmap updated with database foundation</li>
          </ul>
        </li>
        <li><strong>Error Handling System (Enhanced)</strong>
          <ul>
            <li>Added Services: Service_ErrorHandler, LoggingUtility, ErrorSeverity, ErrorCategory, ErrorEntry, ErrorHandlingConfiguration, ErrorMessageProvider, ErrorHandlingInitializer</li>
            <li>Examples: Examples/ErrorHandlingUsageExample.cs</li>
            <li>âœ… **Database integration ready** - procedures log to error_log table</li>
            <li>NuGet: MySql.Data 9.1.0</li>
          </ul>
        </li>
        <li><strong>UI Elements for Error Messages (Avalonia)</strong>
          <ul>
            <li>Inline control: Controls/Control_ErrorMessage.axaml (+.cs)</li>
            <li>Modal dialog: Views/ErrorDialog_Enhanced.axaml (+.cs)</li>
            <li>Examples and docs: Examples/ErrorMessageUIUsageExample.cs, Controls/README_ErrorMessageUI.md</li>
            <li>âœ… **Ready for service layer error handling** using new procedure status codes</li>
          </ul>
        </li>
        <li><strong>Configuration (Enhanced)</strong>
          <ul>
            <li>Added Config/appsettings.json and Config/README.md</li>
            <li>âœ… **Database connection configuration** ready for new stored procedures</li>
            <li>ErrorHandling section to be consumed by ErrorHandlingConfiguration</li>
          </ul>
        </li>
        <li><strong>Build/Compatibility Fixes</strong>
          <ul>
            <li>Replaced DataGrid compiled column bindings with AutoGenerateColumns</li>
            <li>Adjusted XAML padding via Border wrapper</li>
            <li>Used FindControl() for control references in code-behind</li>
            <li>âœ… **All builds successful** with new database files</li>
          </ul>
        </li>
        <li><strong>Usage Guidance (Updated)</strong>
          <ul>
            <li>Database: Use new stored procedures via Helper_Database_StoredProcedure.ExecuteDataTableWithStatus()</li>
            <li>Error Handling: Initialize via ErrorHandlingInitializer.Initialize()</li>
            <li>Logging: Log with Service_ErrorHandler.HandleException(...) âœ… **Enhanced with database logging**</li>
            <li>UI: Display errors with Control_ErrorMessage or ErrorDialog_Enhanced.ShowErrorAsync(...)</li>
          </ul>
        </li>
      </ul>
    </details>
    
    <details>
      <summary><span class="icon icon-chevron">&#9654;</span>Current Compliance Metrics âœ… **IMPROVED**</summary>
      <div class="metrics">
        <div class="metric-card improved">
          <h4>Overall Compliance</h4>
          <div class="metric-value">30%</div>
          <div class="metric-status">IMPROVED</div>
        </div>
        <div class="metric-card improved">
          <h4>Missing Core Systems</h4>
          <div class="metric-value">18</div>
          <div class="metric-status">REDUCED</div>
        </div>
        <div class="metric-card success">
          <h4>Database Foundation</h4>
          <div class="metric-value">100%</div>
          <div class="metric-status">COMPLETE</div>
        </div>
        <div class="metric-card success">
          <h4>Critical Fixes</h4>
          <div class="metric-value">1/11</div>
          <div class="metric-status">STARTED</div>
        </div>
      </div>
      <p><strong>Technical Debt:</strong> Estimated 3-4 weeks to achieve 80% compliance threshold (reduced from 4-6 weeks with database foundation complete).</p>
      <p><strong>Next Priority:</strong> Service layer implementation can now proceed using the comprehensive stored procedures.</p>
    </details>
    
    <details>
      <summary><span class="icon icon-chevron">&#9654;</span>Available Database Operations âœ… **NEW**</summary>
      <div class="database-operations">
        <h3><span class="icon">&#128295;</span>Enhanced Inventory Management</h3>
        <ul>
          <li><strong>inv_inventory_Add_Item_Enhanced</strong> - Add inventory with full error handling and validation</li>
          <li><strong>inv_inventory_Remove_Item_Enhanced</strong> - Remove inventory with stock availability validation</li>
          <li><strong>inv_inventory_Transfer_Item_New</strong> - Transfer inventory between locations</li>
        </ul>
        
        <h3><span class="icon">&#128203;</span>Inventory Queries</h3>
        <ul>
          <li><strong>inv_inventory_Get_ByLocation_New</strong> - Get all inventory at specific location</li>
          <li><strong>inv_inventory_Get_ByOperation_New</strong> - Get all inventory for specific operation</li>
          <li><strong>inv_part_Get_Info_New</strong> - Get detailed part information with summary</li>
          <li><strong>inv_inventory_Get_Summary_New</strong> - Get consolidated inventory summary</li>
        </ul>
        
        <h3><span class="icon">&#9989;</span>Validation & Utilities</h3>
        <ul>
          <li><strong>inv_inventory_Validate_Stock_New</strong> - Validate sufficient stock before operations</li>
          <li><strong>inv_transaction_Log_New</strong> - Log inventory transactions with validation</li>
          <li><strong>inv_location_Validate_New</strong> - Validate location exists and is active</li>
          <li><strong>inv_operation_Validate_New</strong> - Validate operation exists and is active</li>
          <li><strong>sys_user_Validate_New</strong> - Validate user exists and is active</li>
        </ul>
        
        <p><strong>All procedures include:</strong></p>
        <ul>
          <li>âœ… Standardized error handling with p_Status and p_ErrorMsg output parameters</li>
          <li>âœ… Comprehensive input validation for all parameters</li>
          <li>âœ… Transaction management with proper rollback on errors</li>
          <li>âœ… MTM business logic compliance (TransactionType by user intent)</li>
          <li>âœ… Complete documentation with usage examples</li>
        </ul>
      </div>
    </details>
    
    <details>
      <summary><span class="icon icon-chevron">&#9654;</span>Configuration Files</summary>
      <p>The repository includes configuration placeholders under <code>Config/</code>. Primary file: <code>Config/appsettings.json</code></p>
      <ul>
        <li>Application (Name, Environment, Theme, Language)</li>
        <li>Database (Provider, ConnectionString) âœ… **Ready for new stored procedures**</li>
        <li>ErrorHandling (EnableFileServerLogging, EnableMySqlLogging, EnableConsoleLogging, FileServerBasePath, MySqlConnectionString)</li>
        <li>Logging (Level, File.Enable, File.Path)</li>
      </ul>
      <p>Wire-ups should be implemented in services. For example, <code>ErrorHandlingConfiguration.LoadFromConfiguration()</code> should read the <code>ErrorHandling</code> section. âœ… **Database procedures can now log to error_log table**. Do not commit secrets; prefer environment variables or secret stores.</p>
    </details>
    
    <details>
      <summary><span class="icon icon-chevron">&#9654;</span>About the Color Scheme</summary>
      <p>
        The site uses a high-contrast, modern palette inspired by dramatic water scenes:
      </p>
      <ul>
        <li><span class="icon" style="color:#D9D9D9;">&#9632;</span>#D9D9D9 â€” Primary text/light background</li>
        <li><span class="icon" style="color:#565759;">&#9632;</span>#565759 â€” Card/nav background</li>
        <li><span class="icon" style="color:#736F5D;">&#9632;</span>#736F5D â€” Accent</li>
        <li><span class="icon" style="color:#A6A498;">&#9632;</span>#A6A498 â€” Secondary text/borders</li>
        <li><span class="icon" style="color:#0D0D0D;">&#9632;</span>#0D0D0D â€” Main background</li>
      </ul>
      <p>
        MTM Application uses the purple brand palette: Primary (#4B45ED), Secondary (#8345ED), Magenta (#BA45ED), Blue (#4574ED), Pink (#ED45E7), Light Purple (#B594ED).
      </p>
      <p>
        All content is designed for accessibility and readability. For help, contact the project maintainer.</p>
    </details>
  </main>
</body>
</html>