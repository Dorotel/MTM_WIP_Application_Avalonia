<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InventoryTabViewModel - The Inventory Control Station</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-brand">📦 MTM WIP System</div>
        <div class="nav-links">
            <a href="../index.html">🏠 Home</a>
            <a href="../PlainEnglish/index.html">📖 Plain English</a>
            <a href="../Technical/index.html">🔧 Technical</a>
            <a href="#" onclick="switchToTechnical()" title="Switch to Technical View (Alt+T)">🔧 Technical View</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Header Section -->
        <header class="header-section">
            <div class="header-content">
                <div class="icon-container">
                    <span class="file-icon">📊</span>
                </div>
                <div class="header-text">
                    <h1>InventoryTabViewModel</h1>
                    <p class="subtitle">The Inventory Control Station</p>
                </div>
            </div>
            <div class="quick-actions">
                <button onclick="window.print()" class="btn-secondary">🖨️ Print</button>
                <button onclick="exportContent()" class="btn-secondary">📄 Export</button>
            </div>
        </header>

        <!-- What This Is Section -->
        <section class="content-section">
            <h2>🎯 What This Is</h2>
            <div class="info-box info-primary">
                <h3>The Complete Inventory Management Workstation</h3>
                <p>Think of <strong>InventoryTabViewModel</strong> as your comprehensive <strong>inventory control station</strong> - like the main control panel in a manufacturing facility where operators manage all inventory operations. This is where workers add, track, and manage parts throughout their workflow process.</p>
            </div>

            <div class="analogy-box">
                <h4>🏭 Manufacturing Floor Analogy</h4>
                <p>Imagine you have a <strong>centralized inventory control station</strong> on the factory floor where workers:</p>
                <ul>
                    <li>📋 <strong>Fill out inventory forms</strong> - Select parts, operations, locations, and quantities</li>
                    <li>🔍 <strong>Validate information</strong> - Ensure all required fields are complete and accurate</li>
                    <li>💾 <strong>Save inventory transactions</strong> - Process additions to the warehouse system</li>
                    <li>🔄 <strong>Reset for next entry</strong> - Clear forms for the next inventory operation</li>
                    <li>📊 <strong>Access advanced features</strong> - Switch to specialized inventory functions</li>
                    <li>⚙️ <strong>Manage panel layout</strong> - Toggle between different view configurations</li>
                </ul>
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="content-section">
            <h2>⚙️ How It Works</h2>
            <div class="process-flow">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>📋 Form Setup</h3>
                        <p>Initializes dropdown menus with parts, operations, and locations. Loads current data from the warehouse system.</p>
                    </div>
                </div>
                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>🔍 Real-time Validation</h3>
                        <p>Continuously monitors form completion - save button only activates when all required fields are filled correctly.</p>
                    </div>
                </div>
                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>💾 Transaction Processing</h3>
                        <p>When save is clicked, processes the inventory addition and communicates with other system components.</p>
                    </div>
                </div>
                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>🔄 Form Reset</h3>
                        <p>Automatically resets the form for the next entry, with options for soft or hard reset (reloading dropdown data).</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Key Features Section -->
        <section class="content-section">
            <h2>🔧 Key Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">📝</div>
                    <h3>Smart Form Management</h3>
                    <p>Dropdown menus for Parts, Operations, and Locations with real-time validation and data loading.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔍</div>
                    <h3>Intelligent Validation</h3>
                    <p>Save button only enables when all required fields are complete and quantity is a valid positive number.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">💾</div>
                    <h3>Transaction Processing</h3>
                    <p>Handles inventory additions with proper database integration and error handling.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔄</div>
                    <h3>Flexible Reset Options</h3>
                    <p>Soft reset (keep dropdown data) or hard reset (reload from database) based on user preference.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <h3>Advanced Functions</h3>
                    <p>Access to specialized inventory features beyond basic add operations.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>Panel Management</h3>
                    <p>Toggle between different panel layouts for optimal workflow efficiency.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔗</div>
                    <h3>System Integration</h3>
                    <p>Communicates with Quick Buttons and other components through event-driven architecture.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <h3>Version Display</h3>
                    <p>Shows current system version (4.6.0.0) for support and tracking purposes.</p>
                </div>
            </div>
        </section>

        <!-- Form Components Section -->
        <section class="content-section">
            <h2>📋 Form Components</h2>
            <div class="components-grid">
                <div class="component-card">
                    <h3>🔧 Part Selection</h3>
                    <p><strong>SelectedPart</strong> - Dropdown menu showing available parts (PART001, PART002, etc.)</p>
                    <p>Loaded from warehouse database with current available parts</p>
                </div>
                <div class="component-card">
                    <h3>⚙️ Operation Selection</h3>
                    <p><strong>SelectedOperation</strong> - Dropdown menu showing workflow operations (90, 100, 110, etc.)</p>
                    <p>Operations are workflow step numbers, not transaction types</p>
                </div>
                <div class="component-card">
                    <h3>📍 Location Selection</h3>
                    <p><strong>SelectedLocation</strong> - Dropdown menu showing storage locations (WC01, WC02, etc.)</p>
                    <p>Work centers and storage areas where parts are located</p>
                </div>
                <div class="component-card">
                    <h3>🔢 Quantity Entry</h3>
                    <p><strong>Quantity</strong> - Text field for entering the number of parts</p>
                    <p>Must be a positive integer value for transaction to be valid</p>
                </div>
                <div class="component-card">
                    <h3>📝 Notes Field</h3>
                    <p><strong>Notes</strong> - Optional text field for additional information</p>
                    <p>Can include special instructions or transaction details</p>
                </div>
                <div class="component-card">
                    <h3>📱 Version Display</h3>
                    <p><strong>VersionText</strong> - Shows current system version</p>
                    <p>Displays "Version: 4.6.0.0" for support tracking</p>
                </div>
            </div>
        </section>

        <!-- Business Rules Section -->
        <section class="content-section">
            <h2>📋 MTM Business Rules</h2>
            <div class="rules-container">
                <div class="rule-box rule-critical">
                    <h3>🚨 Critical Transaction Rules</h3>
                    <ul>
                        <li><strong>TransactionType = IN</strong> - All inventory additions are "IN" transactions</li>
                        <li><strong>Operation Numbers</strong> - Operations (90, 100, 110) are workflow steps, NOT transaction types</li>
                        <li><strong>User Intent</strong> - Transaction type determined by what user is doing (adding = IN)</li>
                        <li><strong>Stored Procedures Only</strong> - All database operations must use stored procedures</li>
                    </ul>
                </div>
                <div class="rule-box rule-warning">
                    <h3>⚠️ Validation Requirements</h3>
                    <ul>
                        <li><strong>All Required Fields</strong> - Part, Operation, Location, and Quantity must be filled</li>
                        <li><strong>Positive Quantity</strong> - Quantity must be a positive integer (greater than 0)</li>
                        <li><strong>Valid Part ID</strong> - Part must exist in the system database</li>
                        <li><strong>Valid Location</strong> - Location must be an active storage area</li>
                    </ul>
                </div>
                <div class="rule-box rule-info">
                    <h3>ℹ️ Integration Requirements</h3>
                    <ul>
                        <li><strong>Event Communication</strong> - Fires events when inventory is saved for Quick Buttons integration</li>
                        <li><strong>Panel Management</strong> - Can request panel layout changes through events</li>
                        <li><strong>Data Refresh</strong> - Supports both soft reset (keep data) and hard reset (reload data)</li>
                        <li><strong>Error Handling</strong> - Comprehensive error handling with user feedback</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Command Operations Section -->
        <section class="content-section">
            <h2>⚡ Available Operations</h2>
            <div class="commands-grid">
                <div class="command-card">
                    <h3>💾 Save Command</h3>
                    <p>Processes the inventory addition when all validation passes</p>
                    <ul>
                        <li>Only enabled when all required fields are valid</li>
                        <li>Fires InventoryItemSaved event for system integration</li>
                        <li>Automatically resets form after successful save</li>
                    </ul>
                </div>
                <div class="command-card">
                    <h3>🔄 Reset Command</h3>
                    <p>Clears the form for next entry</p>
                    <ul>
                        <li>Soft reset: Clears fields, keeps dropdown data</li>
                        <li>Hard reset: Clears fields, reloads all dropdown data</li>
                        <li>Reset type can be controlled by user preference</li>
                    </ul>
                </div>
                <div class="command-card">
                    <h3>⚙️ Advanced Entry Command</h3>
                    <p>Opens advanced inventory features</p>
                    <ul>
                        <li>Access to specialized inventory functions</li>
                        <li>Advanced transaction types and options</li>
                        <li>Bulk operations and batch processing</li>
                    </ul>
                </div>
                <div class="command-card">
                    <h3>📊 Toggle Panel Command</h3>
                    <p>Manages panel layout and visibility</p>
                    <ul>
                        <li>Switch between different view configurations</li>
                        <li>Optimize screen space for different workflows</li>
                        <li>Fires PanelToggleRequested event</li>
                    </ul>
                </div>
                <div class="command-card">
                    <h3>📥 Load Data Command</h3>
                    <p>Refreshes dropdown data from database</p>
                    <ul>
                        <li>Reloads parts, operations, and locations</li>
                        <li>Updates with latest warehouse information</li>
                        <li>Can be triggered manually or automatically</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Navigation Section -->
        <section class="content-section">
            <h2>🧭 Related Documentation</h2>
            <div class="nav-grid">
                <a href="AddItemViewModel.html" class="nav-card">
                    <div class="nav-icon">📝</div>
                    <div class="nav-content">
                        <h3>AddItemViewModel</h3>
                        <p>Simple inventory addition component for basic operations</p>
                    </div>
                </a>
                <a href="QuickButtonsViewModel.html" class="nav-card">
                    <div class="nav-icon">⚡</div>
                    <div class="nav-content">
                        <h3>QuickButtonsViewModel</h3>
                        <p>Quick access buttons that integrate with this form</p>
                    </div>
                </a>
                <a href="InventoryViewModel.html" class="nav-card">
                    <div class="nav-icon">📦</div>
                    <div class="nav-content">
                        <h3>InventoryViewModel</h3>
                        <p>Main inventory management and viewing component</p>
                    </div>
                </a>
                <a href="MainViewModel.html" class="nav-card">
                    <div class="nav-icon">🏗️</div>
                    <div class="nav-content">
                        <h3>MainViewModel</h3>
                        <p>Main application coordinator that manages this tab</p>
                    </div>
                </a>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>📚 Documentation</h3>
                    <ul>
                        <li><a href="../PlainEnglish/index.html">Plain English Docs</a></li>
                        <li><a href="../Technical/index.html">Technical Docs</a></li>
                        <li><a href="../index.html">Documentation Home</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>🔧 Development</h3>
                    <ul>
                        <li><a href="#" onclick="switchToTechnical()">Technical View</a></li>
                        <li><a href="../../README.md">Project README</a></li>
                        <li><a href="../../Documentation/Development/">Development Docs</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>📋 Quick Actions</h3>
                    <ul>
                        <li><a href="#" onclick="window.print()">Print This Page</a></li>
                        <li><a href="#" onclick="exportContent()">Export Content</a></li>
                        <li><a href="#" onclick="showKeyboardShortcuts()">Keyboard Shortcuts</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MTM WIP Application Documentation. Generated automatically from source code analysis.</p>
            </div>
        </footer>
    </main>

    <script>
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.altKey && e.key === 't') {
                e.preventDefault();
                switchToTechnical();
            }
            if (e.altKey && e.key === 'p') {
                e.preventDefault();
                // Already in Plain English view
                console.log('Already in Plain English view');
            }
        });

        function switchToTechnical() {
            window.location.href = '../Technical/FileDefinitions/InventoryTabViewModel.html';
        }

        function exportContent() {
            // Simple export functionality
            const content = document.querySelector('main').innerHTML;
            const blob = new Blob([content], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'InventoryTabViewModel_PlainEnglish.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        function showKeyboardShortcuts() {
            alert('Keyboard Shortcuts:\nAlt+T: Switch to Technical View\nAlt+P: Switch to Plain English View\nCtrl+P: Print Page');
        }
    </script>
</body>
</html>