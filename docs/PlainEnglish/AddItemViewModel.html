<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AddItemViewModel - The Warehouse Stock Addition Clerk</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-brand">📦 MTM WIP System</div>
        <div class="nav-links">
            <a href="../index.html">🏠 Home</a>
            <a href="../PlainEnglish/index.html">📖 Plain English</a>
            <a href="../Technical/index.html">🔧 Technical</a>
            <a href="#" onclick="switchToTechnical()" title="Switch to Technical View (Alt+T)">🔧 Technical View</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Header Section -->
        <header class="header-section">
            <div class="header-content">
                <div class="icon-container">
                    <span class="file-icon">📝</span>
                </div>
                <div class="header-text">
                    <h1>AddItemViewModel</h1>
                    <p class="subtitle">The Warehouse Stock Addition Clerk</p>
                </div>
            </div>
            <div class="quick-actions">
                <button onclick="window.print()" class="btn-secondary">🖨️ Print</button>
                <button onclick="exportContent()" class="btn-secondary">📄 Export</button>
            </div>
        </header>

        <!-- What This Is Section -->
        <section class="content-section">
            <h2>🎯 What This Is</h2>
            <div class="info-box info-primary">
                <h3>The New Stock Addition Specialist</h3>
                <p>Think of <strong>AddItemViewModel</strong> as your dedicated <strong>warehouse stock addition clerk</strong> who handles all incoming inventory. When new parts arrive from suppliers or are produced in-house, this clerk processes the paperwork, validates the information, and officially adds the items to your inventory system.</p>
            </div>

            <div class="analogy-box">
                <h4>🏭 Manufacturing Floor Analogy</h4>
                <p>Imagine you have a receiving dock where new parts arrive. The AddItemViewModel is like the <strong>receiving clerk</strong> who:</p>
                <ul>
                    <li>📋 <strong>Checks incoming shipments</strong> - Validates part numbers, quantities, and locations</li>
                    <li>📝 <strong>Fills out receiving forms</strong> - Creates proper documentation for inventory addition</li>
                    <li>🔍 <strong>Verifies information</strong> - Ensures all required fields are complete and accurate</li>
                    <li>📦 <strong>Processes the addition</strong> - Officially adds items to the warehouse management system</li>
                    <li>📊 <strong>Updates inventory records</strong> - Ensures stock levels reflect the new additions</li>
                </ul>
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="content-section">
            <h2>⚙️ How It Works</h2>
            <div class="process-flow">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>📋 Form Initialization</h3>
                        <p>The clerk sets up their workstation with proper inventory forms and connects to the warehouse management system.</p>
                    </div>
                </div>
                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>🔗 Service Connection</h3>
                        <p>Establishes communication with the main inventory system and application state manager to ensure real-time updates.</p>
                    </div>
                </div>
                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>⚡ Command Setup</h3>
                        <p>Prepares all the necessary actions for adding inventory items, including validation and error handling.</p>
                    </div>
                </div>
                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>🎯 Ready for Operation</h3>
                        <p>The system is now ready to process inventory additions with full logging and error recovery.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Business Rules Section -->
        <section class="content-section">
            <h2>📋 MTM Business Rules</h2>
            <div class="rules-container">
                <div class="rule-box rule-critical">
                    <h3>🚨 Critical Inventory Addition Rules</h3>
                    <ul>
                        <li><strong>TransactionType = IN</strong> - All additions are "IN" transactions regardless of operation number</li>
                        <li><strong>Operation Numbers</strong> - Operations (90, 100, 110, etc.) are workflow steps, NOT transaction types</li>
                        <li><strong>User Intent</strong> - Transaction type is determined by what the user is doing (adding stock = IN)</li>
                        <li><strong>Stored Procedures Only</strong> - All database operations must use stored procedures</li>
                    </ul>
                </div>
                <div class="rule-box rule-warning">
                    <h3>⚠️ Validation Requirements</h3>
                    <ul>
                        <li><strong>Part ID Required</strong> - Must specify which part is being added</li>
                        <li><strong>Operation Required</strong> - Must specify which workflow step</li>
                        <li><strong>Location Required</strong> - Must specify where items are being stored</li>
                        <li><strong>Quantity Validation</strong> - Must be positive integer value</li>
                        <li><strong>User Authentication</strong> - Only authorized users can add inventory</li>
                    </ul>
                </div>
                <div class="rule-box rule-info">
                    <h3>ℹ️ Integration Requirements</h3>
                    <ul>
                        <li><strong>Dependency Injection</strong> - Uses MTM service pattern with IInventoryService</li>
                        <li><strong>State Management</strong> - Integrates with IApplicationStateService for real-time updates</li>
                        <li><strong>Logging</strong> - All operations are logged through ILogger system</li>
                        <li><strong>Error Handling</strong> - Comprehensive error handling with user-friendly messages</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Key Features Section -->
        <section class="content-section">
            <h2>🔧 Key Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">💉</div>
                    <h3>Dependency Injection</h3>
                    <p>Properly injected with InventoryService and ApplicationStateService for reliable operation.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>Service Integration</h3>
                    <p>Direct connection to MTM inventory services for real-time inventory management.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📝</div>
                    <h3>Comprehensive Logging</h3>
                    <p>All operations are logged with detailed information for audit trails and troubleshooting.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <h3>Command Pattern</h3>
                    <p>Uses ReactiveUI command pattern for responsive and reliable user interactions.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔐</div>
                    <h3>Error Safety</div>
                    <p>Null checks and exception handling ensure system stability during operation.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🎯</div>
                    <h3>MVVM Architecture</h3>
                    <p>Follows proper MVVM pattern with ReactiveUI for clean separation of concerns.</p>
                </div>
            </div>
        </section>

        <!-- Navigation Section -->
        <section class="content-section">
            <h2>🧭 Related Documentation</h2>
            <div class="nav-grid">
                <a href="InventoryService.html" class="nav-card">
                    <div class="nav-icon">🏪</div>
                    <div class="nav-content">
                        <h3>InventoryService</h3>
                        <p>The main inventory management service that this ViewModel uses</p>
                    </div>
                </a>
                <a href="BaseViewModel.html" class="nav-card">
                    <div class="nav-icon">🏗️</div>
                    <div class="nav-content">
                        <h3>BaseViewModel</h3>
                        <p>The foundation class that provides common ViewModel functionality</p>
                    </div>
                </a>
                <a href="ApplicationStateService.html" class="nav-card">
                    <div class="nav-icon">🌐</div>
                    <div class="nav-content">
                        <h3>ApplicationStateService</h3>
                        <p>Manages global application state and real-time updates</p>
                    </div>
                </a>
                <a href="RemoveItemViewModel.html" class="nav-card">
                    <div class="nav-icon">➖</div>
                    <div class="nav-content">
                        <h3>RemoveItemViewModel</h3>
                        <p>The complementary component for removing items from inventory</p>
                    </div>
                </a>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>📚 Documentation</h3>
                    <ul>
                        <li><a href="../PlainEnglish/index.html">Plain English Docs</a></li>
                        <li><a href="../Technical/index.html">Technical Docs</a></li>
                        <li><a href="../index.html">Documentation Home</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>🔧 Development</h3>
                    <ul>
                        <li><a href="#" onclick="switchToTechnical()">Technical View</a></li>
                        <li><a href="../../README.md">Project README</a></li>
                        <li><a href="../../Development/">Development Docs</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>📋 Quick Actions</h3>
                    <ul>
                        <li><a href="#" onclick="window.print()">Print This Page</a></li>
                        <li><a href="#" onclick="exportContent()">Export Content</a></li>
                        <li><a href="#" onclick="showKeyboardShortcuts()">Keyboard Shortcuts</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MTM WIP Application Documentation. Generated automatically from source code analysis.</p>
            </div>
        </footer>
    </main>

    <script>
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.altKey && e.key === 't') {
                e.preventDefault();
                switchToTechnical();
            }
            if (e.altKey && e.key === 'p') {
                e.preventDefault();
                // Already in Plain English view
                console.log('Already in Plain English view');
            }
        });

        function switchToTechnical() {
            window.location.href = '../Technical/FileDefinitions/AddItemViewModel.html';
        }

        function exportContent() {
            // Simple export functionality
            const content = document.querySelector('main').innerHTML;
            const blob = new Blob([content], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'AddItemViewModel_PlainEnglish.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        function showKeyboardShortcuts() {
            alert('Keyboard Shortcuts:\nAlt+T: Switch to Technical View\nAlt+P: Switch to Plain English View\nCtrl+P: Print Page');
        }
    </script>
</body>
</html>