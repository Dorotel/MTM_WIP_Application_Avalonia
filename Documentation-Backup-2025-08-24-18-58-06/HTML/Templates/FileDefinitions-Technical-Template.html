<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Technical documentation for {{FILENAME}} - {{COMPONENT_TYPE}} in MTM WIP Application">
    <meta name="keywords" content="MTM, WIP, {{COMPONENT_TYPE}}, {{FILENAME}}, technical documentation, implementation">
    <meta name="author" content="MTM Development Team">
    
    <title>FileDefinitions-{{FILENAME}} - MTM WIP Application Technical Documentation</title>
    
    <!-- MTM CSS Files - All Four Required -->
    <link rel="stylesheet" href="../../assets/css/modern-styles.css">
    <link rel="stylesheet" href="../../assets/css/mtm-theme.css">
    <link rel="stylesheet" href="../../assets/css/plain-english.css">
    <link rel="stylesheet" href="../../assets/css/responsive.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../../assets/images/mtm-favicon.svg">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="../../assets/css/modern-styles.css" as="style">
    <link rel="preload" href="../../assets/js/modern-features.js" as="script">

    <!-- Additional Technical Documentation Styling -->
    <style>
        /* FileDefinitions Technical-specific styling */
        :root {
            --tech-primary: #4B45ED;
            --tech-secondary: #8345ED;
            --tech-accent: #BA45ED;
            --tech-blue: #4574ED;
            --tech-pink: #ED45E7;
            --tech-light: #B594ED;
            --code-bg: #1e1e1e;
            --code-border: #4B45ED;
        }

        .technical-header {
            background: linear-gradient(135deg, var(--tech-primary), var(--tech-secondary), var(--tech-accent));
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .technical-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .technical-header-content {
            position: relative;
            z-index: 2;
        }

        .component-type-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .cross-reference-nav {
            background: rgba(75, 69, 237, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid var(--tech-primary);
        }

        .nav-button {
            background: linear-gradient(135deg, var(--tech-primary), var(--tech-secondary));
            color: white;
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin-right: 1rem;
            margin-bottom: 0.5rem;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(75, 69, 237, 0.4);
            text-decoration: none;
            color: white;
        }

        .nav-button.plain-english {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
        }

        .nav-button.plain-english:hover {
            color: #000;
        }

        .mtm-code-block {
            background: var(--code-bg);
            border: 2px solid var(--code-border);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'Courier New', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            color: #e0e0e0;
        }

        .mtm-code-block::before {
            content: attr(data-language);
            display: block;
            background: var(--tech-primary);
            color: white;
            padding: 0.5rem 1rem;
            margin: -1.5rem -1.5rem 1rem -1.5rem;
            font-size: 0.8rem;
            font-weight: bold;
            border-radius: 6px 6px 0 0;
        }

        .api-section {
            background: rgba(75, 69, 237, 0.05);
            border: 1px solid rgba(75, 69, 237, 0.2);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .api-method {
            background: var(--code-bg);
            border-left: 4px solid var(--tech-accent);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .method-signature {
            color: var(--tech-accent);
            font-family: 'Courier New', monospace;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .parameter-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            overflow: hidden;
        }

        .parameter-table th {
            background: var(--tech-primary);
            color: white;
            padding: 0.8rem;
            text-align: left;
            font-weight: 600;
        }

        .parameter-table td {
            padding: 0.8rem;
            border-bottom: 1px solid rgba(75, 69, 237, 0.2);
        }

        .parameter-table tr:last-child td {
            border-bottom: none;
        }

        .mtm-alert {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid;
        }

        .mtm-alert.info {
            background: rgba(69, 116, 237, 0.1);
            border-left-color: var(--tech-blue);
            color: #e0e0e0;
        }

        .mtm-alert.warning {
            background: rgba(255, 193, 7, 0.1);
            border-left-color: #ffc107;
            color: #e0e0e0;
        }

        .mtm-alert.critical {
            background: rgba(237, 69, 231, 0.1);
            border-left-color: var(--tech-pink);
            color: #e0e0e0;
        }

        .implementation-pattern {
            background: rgba(131, 69, 237, 0.1);
            border: 1px solid rgba(131, 69, 237, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .dependency-graph {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .dependency-item {
            background: rgba(75, 69, 237, 0.1);
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid var(--tech-primary);
        }

        .dependency-title {
            color: var(--tech-accent);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .mtm-business-rule {
            background: linear-gradient(135deg, var(--tech-pink), var(--tech-accent));
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .mtm-business-rule h3 {
            color: white;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
    <!-- Reading progress indicator -->
    <div class="reading-progress" aria-hidden="true"></div>
    
    <!-- Cross-Reference Navigation (TOP_OF_PAGE as specified) -->
    <div class="cross-reference-nav">
        <h3>?? Quick Navigation</h3>
        <a href="../../../PlainEnglish/FileDefinitions/{{CATEGORY}}/FileDefinitions-{{FILENAME}}.html" class="nav-button plain-english" accesskey="p">?? Plain English View (Alt+P)</a>
        <a href="../../index.html" class="nav-button">?? Technical Home</a>
        <a href="../../../index.html" class="nav-button">?? Documentation Hub</a>
        <a href="index.html" class="nav-button">?? {{CATEGORY}} Index</a>
        {{ADDITIONAL_NAV_BUTTONS}}
    </div>

    <!-- Main Technical Header -->
    <div class="technical-header">
        <div class="technical-header-content">
            <div class="component-type-badge">{{COMPONENT_TYPE}}</div>
            <h1>{{FILENAME}} - Technical Implementation</h1>
            <p><strong>MTM WIP Application {{COMPONENT_TYPE}}</strong> | <span style="background: rgba(255,255,255,0.2); padding: 0.25rem 0.5rem; border-radius: 15px;">{{STATUS_BADGE}}</span></p>
        </div>
    </div>

    <main id="main-content">
        <!-- Component Overview -->
        <section class="mtm-content-section mtm-fade-in">
            <h2>?? Component Overview</h2>
            <p>{{COMPONENT_DESCRIPTION}}</p>

            <div class="mtm-alert critical">
                <h3><span class="icon" aria-hidden="true">??</span> MTM Business Logic Compliance</h3>
                <p>{{MTM_COMPLIANCE_NOTES}}</p>
            </div>

            {{OVERVIEW_DETAILS}}
        </section>

        <!-- Implementation Architecture -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>??? Architecture & Design</h2>
            
            <div class="implementation-pattern">
                <h3>Design Pattern</h3>
                <p>{{DESIGN_PATTERN_DESCRIPTION}}</p>
                
                <div class="mtm-code-block" data-language="{{PRIMARY_LANGUAGE}}">{{ARCHITECTURE_CODE_EXAMPLE}}</div>
            </div>

            {{ARCHITECTURE_SECTIONS}}
        </section>

        <!-- API Documentation -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? API Documentation</h2>
            
            <div class="api-section">
                <h3>Public Interface</h3>
                <p>{{API_OVERVIEW}}</p>

                {{API_METHODS}}
            </div>

            {{ADDITIONAL_API_SECTIONS}}
        </section>

        <!-- MTM Business Rules Implementation -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? MTM Business Rules Implementation</h2>
            
            <div class="mtm-business-rule">
                <h3>Critical MTM Conventions</h3>
                {{MTM_BUSINESS_RULES_IMPLEMENTATION}}
            </div>

            {{MTM_SPECIFIC_IMPLEMENTATION}}
        </section>

        <!-- Database Integration -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>??? Database Integration</h2>
            
            <div class="mtm-alert info">
                <h3><span class="icon" aria-hidden="true">???</span> Stored Procedure Pattern</h3>
                <p><strong>ALL database operations MUST use stored procedures only.</strong> Direct SQL queries are prohibited in MTM application code.</p>
            </div>

            {{DATABASE_INTEGRATION_DETAILS}}
        </section>

        <!-- Dependencies & Relationships -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Dependencies & Relationships</h2>
            
            <div class="dependency-graph">
                {{DEPENDENCY_ITEMS}}
            </div>

            {{DEPENDENCY_DETAILS}}
        </section>

        <!-- Implementation Examples -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Implementation Examples</h2>
            
            {{IMPLEMENTATION_EXAMPLES}}
        </section>

        <!-- Testing & Validation -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Testing & Validation</h2>
            
            <div class="implementation-pattern">
                <h3>Testing Requirements</h3>
                {{TESTING_REQUIREMENTS}}
            </div>

            {{TESTING_EXAMPLES}}
        </section>

        <!-- Error Handling -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Error Handling</h2>
            
            <div class="mtm-alert warning">
                <h3><span class="icon" aria-hidden="true">?</span> MTM Error Handling Pattern</h3>
                <p>All components must implement standardized error handling using the MTM Result pattern and logging to the error_log table via stored procedures.</p>
            </div>

            {{ERROR_HANDLING_IMPLEMENTATION}}
        </section>

        <!-- Configuration & Setup -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Configuration & Setup</h2>
            
            {{CONFIGURATION_DETAILS}}
        </section>

        <!-- Performance Considerations -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>? Performance Considerations</h2>
            
            {{PERFORMANCE_NOTES}}
        </section>

        <!-- Future Enhancements -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Future Enhancements</h2>
            
            {{FUTURE_ENHANCEMENTS}}
        </section>

        <!-- Related Technical Documentation -->
        <section class="mtm-content-section mtm-slide-up">
            <h2>?? Related Technical Documentation</h2>
            
            <div class="dependency-graph">
                {{RELATED_TECHNICAL_DOCS}}
            </div>
        </section>
    </main>

    <!-- Cross-Reference Navigation (BOTTOM) -->
    <div class="cross-reference-nav">
        <h3>?? Explore More</h3>
        <a href="../../../PlainEnglish/FileDefinitions/{{CATEGORY}}/FileDefinitions-{{FILENAME}}.html" class="nav-button plain-english">?? View Plain English Explanation</a>
        {{RELATED_COMPONENTS_NAV}}
    </div>

    <!-- Footer -->
    <footer class="mtm-content-footer">
        <div class="mtm-footer-nav">
            <a href="../../index.html" class="mtm-btn mtm-btn-outline">? Technical Documentation Hub</a>
            <a href="../../../PlainEnglish/FileDefinitions/{{CATEGORY}}/FileDefinitions-{{FILENAME}}.html" class="mtm-btn mtm-btn-outline">Plain English View ?</a>
        </div>
        <p class="mtm-footer-text">
            <strong>Last Updated:</strong> {{LAST_UPDATED_DISPLAY}} |
            <strong>Component Type:</strong> {{COMPONENT_TYPE}} |
            <strong>Status:</strong> {{STATUS_BADGE}}
        </p>
    </footer>

    <!-- Modern JavaScript Features -->
    <script src="../../assets/js/modern-features.js"></script>
    
    <!-- Optional: Syntax highlighting for code blocks -->
    <script>
        // Enhanced technical documentation features
        document.addEventListener('DOMContentLoaded', function() {
            console.log('FileDefinitions Technical Documentation Loaded: {{FILENAME}}');
            console.log('Component Type: {{COMPONENT_TYPE}}');
            console.log('Target Audience: Developers, Architects, Technical Team Members');

            // Add copy-to-clipboard functionality for code blocks
            const codeBlocks = document.querySelectorAll('.mtm-code-block');
            codeBlocks.forEach(block => {
                const copyButton = document.createElement('button');
                copyButton.textContent = 'Copy';
                copyButton.style.cssText = `
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: var(--tech-accent);
                    color: white;
                    border: none;
                    padding: 0.5rem;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 0.8rem;
                `;
                
                block.style.position = 'relative';
                block.appendChild(copyButton);
                
                copyButton.addEventListener('click', () => {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        copyButton.textContent = 'Copied!';
                        setTimeout(() => {
                            copyButton.textContent = 'Copy';
                        }, 2000);
                    });
                });
            });

            // Enhanced focus indicators for accessibility
            const focusableElements = document.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
            focusableElements.forEach(element => {
                element.addEventListener('focus', function() {
                    this.style.outline = '3px solid var(--tech-primary)';
                    this.style.outlineOffset = '2px';
                });
                
                element.addEventListener('blur', function() {
                    this.style.outline = '';
                    this.style.outlineOffset = '';
                });
            });

            // Smooth scrolling for in-page navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Interactive enhancements for technical elements
            const apiMethods = document.querySelectorAll('.api-method');
            apiMethods.forEach(method => {
                method.addEventListener('mouseenter', function() {
                    this.style.borderLeftColor = 'var(--tech-primary)';
                    this.style.transform = 'translateX(5px)';
                    this.style.transition = 'all 0.3s ease';
                });
                
                method.addEventListener('mouseleave', function() {
                    this.style.borderLeftColor = 'var(--tech-accent)';
                    this.style.transform = 'translateX(0)';
                });
            });
        });

        // Technical documentation keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Alt + P = Switch to Plain English view
            if (e.altKey && e.key === 'p') {
                e.preventDefault();
                window.location.href = '../../../PlainEnglish/FileDefinitions/{{CATEGORY}}/FileDefinitions-{{FILENAME}}.html';
            }
            // Alt + H = Go to documentation home
            if (e.altKey && e.key === 'h') {
                e.preventDefault();
                window.location.href = '../../../index.html';
            }
            // Alt + T = Go to technical home
            if (e.altKey && e.key === 't') {
                e.preventDefault();
                window.location.href = '../../index.html';
            }
            // Ctrl + Shift + C = Copy current page URL
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                navigator.clipboard.writeText(window.location.href).then(() => {
                    alert('Page URL copied to clipboard');
                });
            }
        });
    </script>
    
    <!-- Schema.org structured data for better SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TechArticle",
        "name": "FileDefinitions-{{FILENAME}} Technical Documentation",
        "description": "Technical implementation documentation for {{FILENAME}} - {{COMPONENT_TYPE}} in MTM WIP Application",
        "author": {
            "@type": "Organization",
            "name": "MTM Development Team"
        },
        "dateModified": "{{LAST_UPDATED}}",
        "mainEntity": {
            "@type": "SoftwareApplication",
            "name": "MTM WIP Application",
            "applicationCategory": "Business Software",
            "operatingSystem": "Windows, macOS, Linux"
        },
        "about": {
            "@type": "SoftwareSourceCode",
            "name": "{{FILENAME}}",
            "programmingLanguage": "{{PRIMARY_LANGUAGE}}",
            "codeRepository": "MTM WIP Application"
        }
    }
    </script>
</body>
</html>

<!-- 
TEMPLATE USAGE INSTRUCTIONS FOR FILEDEFINITIONS MIGRATION:

1. REPLACE ALL PLACEHOLDERS:
   - {{FILENAME}} - The actual filename without extension (e.g., "InventoryService")
   - {{COMPONENT_TYPE}} - Type of component (Service, ViewModel, Model, Extension)
   - {{CATEGORY}} - Folder category (Services, ViewModels, Models, Extensions)
   - {{STATUS_BADGE}} - Current status (Active, Enhanced, New, etc.)
   - {{COMPONENT_DESCRIPTION}} - Technical description of the component
   - {{MTM_COMPLIANCE_NOTES}} - MTM business logic compliance details
   - {{DESIGN_PATTERN_DESCRIPTION}} - Architecture pattern used
   - {{PRIMARY_LANGUAGE}} - Main programming language (C#, etc.)
   - {{ARCHITECTURE_CODE_EXAMPLE}} - Code showing architecture pattern
   - {{API_OVERVIEW}} - Description of the public API
   - {{LAST_UPDATED}} - ISO date format
   - {{LAST_UPDATED_DISPLAY}} - Human-readable date

2. REPLACE DYNAMIC SECTIONS:
   - {{OVERVIEW_DETAILS}} - Additional overview information
   - {{ARCHITECTURE_SECTIONS}} - Architecture-specific sections
   - {{API_METHODS}} - Individual API method documentation
   - {{ADDITIONAL_API_SECTIONS}} - Extra API documentation
   - {{MTM_BUSINESS_RULES_IMPLEMENTATION}} - MTM rule implementation details
   - {{MTM_SPECIFIC_IMPLEMENTATION}} - MTM-specific code patterns
   - {{DATABASE_INTEGRATION_DETAILS}} - Database interaction patterns
   - {{DEPENDENCY_ITEMS}} - Individual dependency cards
   - {{DEPENDENCY_DETAILS}} - Detailed dependency information
   - {{IMPLEMENTATION_EXAMPLES}} - Code examples and usage patterns
   - {{TESTING_REQUIREMENTS}} - Testing requirements and patterns
   - {{TESTING_EXAMPLES}} - Testing code examples
   - {{ERROR_HANDLING_IMPLEMENTATION}} - Error handling patterns
   - {{CONFIGURATION_DETAILS}} - Configuration and setup information
   - {{PERFORMANCE_NOTES}} - Performance considerations
   - {{FUTURE_ENHANCEMENTS}} - Planned improvements
   - {{RELATED_TECHNICAL_DOCS}} - Links to related technical docs
   - {{ADDITIONAL_NAV_BUTTONS}} - Extra navigation buttons
   - {{RELATED_COMPONENTS_NAV}} - Links to related components

3. API METHOD TEMPLATE:
   <div class="api-method">
       <div class="method-signature">public ReturnType MethodName(ParameterType parameter)</div>
       <p>Description of what the method does.</p>
       <table class="parameter-table">
           <thead>
               <tr>
                   <th>Parameter</th>
                   <th>Type</th>
                   <th>Description</th>
               </tr>
           </thead>
           <tbody>
               <tr>
                   <td>parameter</td>
                   <td>ParameterType</td>
                   <td>Parameter description</td>
               </tr>
           </tbody>
       </table>
   </div>

4. DEPENDENCY ITEM TEMPLATE:
   <div class="dependency-item">
       <div class="dependency-title">Dependency Name</div>
       <div>Description of the dependency and how it's used.</div>
   </div>

5. IMPLEMENTATION EXAMPLE TEMPLATE:
   <div class="implementation-pattern">
       <h3>Example Title</h3>
       <p>Description of the example.</p>
       <div class="mtm-code-block" data-language="csharp">
           // Code example here
       </div>
   </div>

6. MTM ALERT TEMPLATES:
   <div class="mtm-alert info">
       <h3><span class="icon" aria-hidden="true">??</span> Information</h3>
       <p>Information content</p>
   </div>
   
   <div class="mtm-alert warning">
       <h3><span class="icon" aria-hidden="true">??</span> Warning</h3>
       <p>Warning content</p>
   </div>
   
   <div class="mtm-alert critical">
       <h3><span class="icon" aria-hidden="true">??</span> Critical</h3>
       <p>Critical information content</p>
   </div>

7. QUALITY CHECKLIST:
   - [ ] All {{placeholder}} content replaced with actual technical information
   - [ ] Navigation links point to correct file locations  
   - [ ] Cross-reference buttons work for Plain English view
   - [ ] API documentation is complete and accurate
   - [ ] Code examples compile and follow MTM patterns
   - [ ] MTM business rules clearly documented
   - [ ] Database integration follows stored procedure pattern
   - [ ] Error handling follows MTM Result pattern
   - [ ] Dependencies accurately documented
   - [ ] Performance considerations included
   - [ ] Testing requirements specified
   - [ ] Accessibility features tested (keyboard navigation, screen reader)
   - [ ] Mobile responsive design verified
   - [ ] All CSS files correctly referenced
   - [ ] Code syntax highlighting works correctly
   - [ ] Copy-to-clipboard functionality tested
   - [ ] Schema.org markup includes correct information

8. TARGET AUDIENCE:
   - Software developers and engineers
   - System architects and technical leads
   - DevOps and infrastructure engineers
   - Technical team members implementing or maintaining the system
   - Code reviewers and quality assurance engineers

9. CONTENT PRINCIPLES:
   - Provide complete technical implementation details
   - Include working code examples that follow MTM patterns
   - Document all public APIs with parameters and return types
   - Explain MTM-specific business logic implementation
   - Reference stored procedures and database patterns
   - Include error handling and validation patterns
   - Document dependencies and integration points
   - Provide testing guidance and examples
   - Include performance and scalability considerations

10. MTM TECHNICAL REQUIREMENTS:
    - All database operations via stored procedures only
    - TransactionType determined by user intent, not operation numbers
    - Use Result pattern for error handling
    - Follow ReactiveUI patterns for ViewModels
    - Implement dependency injection properly
    - Use Helper_Database_StoredProcedure.ExecuteDataTableWithStatus()
    - Log errors to error_log table via procedures
    - Follow MTM naming conventions and business rules
-->