<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileDefinitions Migration - Final Implementation Questions</title>
    <style>
        :root {
            --primary-purple: #4B45ED;
            --magenta-accent: #BA45ED;
            --secondary-purple: #8345ED;
            --blue-accent: #4574ED;
            --pink-accent: #ED45E7;
            --light-purple: #B594ED;
            --background: #f8f9fa;
            --card-background: #ffffff;
            --text-primary: #2d3748;
            --text-secondary: #4a5568;
            --border-color: #e2e8f0;
            --success-color: #48bb78;
            --warning-color: #ed8936;
            --danger-color: #e53e3e;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--blue-accent) 0%, var(--primary-purple) 30%, var(--secondary-purple) 70%, var(--magenta-accent) 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-primary);
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: var(--card-background);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(90deg, var(--primary-purple), var(--magenta-accent));
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 6px;
            border-radius: 3px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .content {
            padding: 30px;
        }

        .implementation-summary {
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.1) 0%, rgba(72, 187, 120, 0.05) 100%);
            border: 2px solid var(--success-color);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .summary-title {
            color: var(--success-color);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .implementation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .implementation-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-purple);
        }

        .implementation-label {
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .implementation-value {
            color: var(--text-primary);
            font-weight: 700;
            margin-top: 5px;
            font-size: 0.95rem;
        }

        .scope-expansion {
            background: linear-gradient(135deg, rgba(237, 137, 54, 0.1) 0%, rgba(237, 137, 54, 0.05) 100%);
            border: 2px solid var(--warning-color);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .scope-title {
            color: var(--warning-color);
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .scope-list {
            margin-left: 20px;
        }

        .scope-list li {
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .question-card {
            background: var(--card-background);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            position: relative;
        }

        .question-card:hover {
            border-color: var(--primary-purple);
            box-shadow: 0 5px 15px rgba(75, 69, 237, 0.1);
        }

        .question-card.answered {
            border-color: var(--success-color);
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.05) 0%, rgba(72, 187, 120, 0.02) 100%);
        }

        .question-card.critical {
            border-color: var(--danger-color);
            background: linear-gradient(135deg, rgba(229, 62, 62, 0.05) 0%, rgba(229, 62, 62, 0.02) 100%);
        }

        .category-badge {
            display: inline-block;
            background: var(--danger-color);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .critical-badge {
            background: var(--danger-color);
        }

        .implementation-badge {
            background: var(--warning-color);
        }

        .scope-badge {
            background: var(--blue-accent);
        }

        .question-id {
            position: absolute;
            top: 15px;
            right: 20px;
            background: var(--secondary-purple);
            color: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-primary);
            line-height: 1.5;
        }

        .context-box {
            background: #f7fafc;
            border-left: 4px solid var(--blue-accent);
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .context-label {
            font-weight: 600;
            color: var(--blue-accent);
            margin-bottom: 8px;
        }

        .answer-section {
            margin-top: 20px;
        }

        .answer-label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-secondary);
            display: block;
        }

        select, input[type="text"], textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        select:focus, input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(75, 69, 237, 0.1);
        }

        select:not([value=""]), input[type="text"]:not([value=""]), textarea:not(:placeholder-shown) {
            border-color: var(--success-color);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .notes-section {
            margin-top: 15px;
        }

        .action-buttons {
            position: sticky;
            bottom: 0;
            background: white;
            border-top: 2px solid var(--border-color);
            padding: 20px 30px;
            display: flex;
            gap: 15px;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-purple), var(--magenta-accent));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(75, 69, 237, 0.3);
        }

        .btn-secondary {
            background: var(--light-purple);
            color: white;
        }

        .btn-secondary:hover {
            background: var(--secondary-purple);
            transform: translateY(-1px);
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background: #c53030;
            transform: translateY(-2px);
        }

        .stats {
            display: flex;
            gap: 20px;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .validation-message {
            margin-top: 5px;
            font-size: 0.85rem;
            color: var(--warning-color);
            display: none;
        }

        .question-card.invalid .validation-message {
            display: block;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 8px;
            }
            
            .content {
                padding: 20px;
            }
            
            .question-card {
                padding: 20px;
            }
            
            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .stats {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .implementation-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>?? Final Implementation Questions</h1>
            <p>FileDefinitions Migration - Comprehensive Scope & Implementation Details</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="content">
            <!-- Implementation Summary -->
            <div class="implementation-summary">
                <div class="summary-title">
                    <span>??</span>
                    <span>Your Complete Migration Configuration</span>
                </div>
                <div class="implementation-grid">
                    <div class="implementation-item">
                        <div class="implementation-label">Content Treatment</div>
                        <div class="implementation-value">MODERNIZE_FULL + MTM Enhancement</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">File Naming</div>
                        <div class="implementation-value">FileDefinitions- prefix + Update ALL existing files</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">CSS Integration</div>
                        <div class="implementation-value">ALL_THREE CSS files for all migrated content</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">Cross-Reference Navigation</div>
                        <div class="implementation-value">TOP_OF_PAGE buttons for ALL HTML files</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">PlainEnglish Strategy</div>
                        <div class="implementation-value">PROCESS_ORIENTED for non-developers</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">Mobile Responsiveness</div>
                        <div class="implementation-value">UPGRADE_ALL existing and migrated files</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">Archive Strategy</div>
                        <div class="implementation-value">CREATE_ARCHIVE_THEN_DELETE Docs folder</div>
                    </div>
                    <div class="implementation-item">
                        <div class="implementation-label">Root Files</div>
                        <div class="implementation-value">BOTH_SECTIONS with PlainEnglish/Technical versions</div>
                    </div>
                </div>
                
                <div class="scope-expansion">
                    <div class="scope-title">
                        <span>??</span>
                        <span>Expanded Scope Identified</span>
                    </div>
                    <div>Your requirements have significantly expanded the migration scope beyond the original FileDefinitions:</div>
                    <ul class="scope-list">
                        <li><strong>ALL existing HTML files</strong> need FileDefinitions- prefix renaming</li>
                        <li><strong>ALL HTML files</strong> need cross-reference navigation buttons added to top</li>
                        <li><strong>ALL HTML files</strong> need mobile responsiveness upgrades</li>
                        <li><strong>ALL HTML files</strong> need link updates for renamed files</li>
                        <li><strong>Index navigation files</strong> need comprehensive updates</li>
                        <li><strong>27+ FileDefinitions files</strong> need dual-section creation (PlainEnglish + Technical)</li>
                        <li><strong>3 root files</strong> need dual-section transformation</li>
                    </ul>
                </div>
            </div>

            <form id="questionsForm">
                <!-- Question 1 -->
                <div class="question-card critical" data-question-id="1">
                    <span class="question-id">F1</span>
                    <span class="category-badge critical-badge">Critical Scope</span>
                    <div class="question-text">The expanded scope affects 40+ HTML files. Should I create a comprehensive backup before starting this extensive migration?</div>
                    <div class="context-box">
                        <div class="context-label">Files That Will Be Modified:</div>
                        <div>• All 27 FileDefinitions (new) + 3 root files (transformed) = 30 new files</div>
                        <div>• All existing HTML files (renaming + navigation + responsiveness) = ~15+ files</div>
                        <div>• All index.html files (navigation updates) = ~5+ files</div>
                        <div>• Total Impact: 50+ files across the entire Documentation/HTML structure</div>
                    </div>
                    <div class="answer-section">
                        <label class="answer-label">Backup Strategy for Expanded Scope:</label>
                        <select name="f1_answer" required>
                            <option value="">-- Select Backup Strategy --</option>
                            <option value="FULL_DOCUMENTATION_BACKUP">FULL_DOCUMENTATION_BACKUP - Backup entire Documentation folder</option>
                            <option value="HTML_FOLDER_BACKUP">HTML_FOLDER_BACKUP - Backup only Documentation/HTML folder</option>
                            <option value="GIT_COMMIT_BACKUP">GIT_COMMIT_BACKUP - Create Git commit before migration</option>
                            <option value="TIMESTAMPED_BACKUP">TIMESTAMPED_BACKUP - Create timestamped backup of affected files</option>
                            <option value="NO_ADDITIONAL_BACKUP">NO_ADDITIONAL_BACKUP - Proceed with original backup plan</option>
                        </select>
                        <div class="validation-message">Please select backup strategy for expanded scope</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Backup Location/Notes:</label>
                        <textarea name="f1_notes" placeholder="Specify backup location or additional backup requirements..."></textarea>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-card" data-question-id="2">
                    <span class="question-id">F2</span>
                    <span class="category-badge implementation-badge">Implementation Order</span>
                    <div class="question-text">Given the extensive cross-file dependencies, what order should I execute this comprehensive migration?</div>
                    <div class="context-box">
                        <div class="context-label">Dependencies Identified:</div>
                        <div>• File renaming affects all internal links</div>
                        <div>• Navigation button additions affect all existing files</div>
                        <div>• Index file updates depend on all other changes</div>
                        <div>• Mobile responsiveness affects CSS and all HTML structure</div>
                    </div>
                    <div class="answer-section">
                        <label class="answer-label">Migration Execution Order:</label>
                        <select name="f2_answer" required>
                            <option value="">-- Select Execution Order --</option>
                            <option value="CSS_FIRST">CSS_FIRST - Upgrade CSS first, then HTML files, then create new files</option>
                            <option value="CREATE_THEN_UPGRADE">CREATE_THEN_UPGRADE - Create new files first, then upgrade existing files</option>
                            <option value="RENAME_THEN_CREATE">RENAME_THEN_CREATE - Rename existing files first, then create new files</option>
                            <option value="PARALLEL_SECTIONS">PARALLEL_SECTIONS - Work on PlainEnglish and Technical sections separately</option>
                            <option value="INCREMENTAL_VALIDATION">INCREMENTAL_VALIDATION - Complete each category with full validation before proceeding</option>
                        </select>
                        <div class="validation-message">Please select execution order</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Order Preferences:</label>
                        <textarea name="f2_notes" placeholder="Specify any specific ordering requirements or validation points..."></textarea>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-card" data-question-id="3">
                    <span class="question-id">F3</span>
                    <span class="category-badge critical-badge">Link Management</span>
                    <div class="question-text">With FileDefinitions- prefix on ALL files, how should I handle external links and references from outside the Documentation/HTML folder?</div>
                    <div class="context-box">
                        <div class="context-label">Potential External References:</div>
                        <div>• README files might link to HTML documentation</div>
                        <div>• Instruction files might reference HTML files</div>
                        <div>• Other folders might have links to Documentation/HTML files</div>
                        <div>• Git repository history and external bookmarks</div>
                    </div>
                    <div class="answer-section">
                        <label class="answer-label">External Link Handling:</label>
                        <select name="f3_answer" required>
                            <option value="">-- Select Link Strategy --</option>
                            <option value="SCAN_AND_UPDATE">SCAN_AND_UPDATE - Scan entire repository for links and update them</option>
                            <option value="CREATE_REDIRECTS">CREATE_REDIRECTS - Create HTML redirect files with old names</option>
                            <option value="DOCUMENT_CHANGES">DOCUMENT_CHANGES - Create documentation of link changes</option>
                            <option value="FLAG_FOR_MANUAL">FLAG_FOR_MANUAL - Flag external links for manual review</option>
                            <option value="HTML_ONLY_SCOPE">HTML_ONLY_SCOPE - Only update links within Documentation/HTML folder</option>
                        </select>
                        <div class="validation-message">Please select link handling strategy</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Link Management Notes:</label>
                        <textarea name="f3_notes" placeholder="Specify external link handling preferences or areas to exclude..."></textarea>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question-card" data-question-id="4">
                    <span class="question-id">F4</span>
                    <span class="category-badge scope-badge">Mobile Responsiveness Scope</span>
                    <div class="question-text">For "UPGRADE_ALL" mobile responsiveness, should I modify the existing CSS files or create new responsive CSS files?</div>
                    <div class="context-box">
                        <div class="context-label">Current CSS Structure:</div>
                        <div>• modern-styles.css - General styling</div>
                        <div>• mtm-theme.css - MTM brand colors</div>
                        <div>• plain-english.css - PlainEnglish section styles</div>
                        <div>• These files may be used by other parts of the system</div>
                    </div>
                    <div class="answer-section">
                        <label class="answer-label">CSS Modification Strategy:</label>
                        <select name="f4_answer" required>
                            <option value="">-- Select CSS Strategy --</option>
                            <option value="MODIFY_EXISTING">MODIFY_EXISTING - Add responsive rules to existing CSS files</option>
                            <option value="CREATE_RESPONSIVE_CSS">CREATE_RESPONSIVE_CSS - Create new responsive.css file</option>
                            <option value="HYBRID_APPROACH">HYBRID_APPROACH - Modify existing + add responsive.css for advanced features</option>
                            <option value="BACKUP_AND_MODIFY">BACKUP_AND_MODIFY - Backup existing CSS, then modify with responsive rules</option>
                            <option value="VERSION_CSS_FILES">VERSION_CSS_FILES - Create v2 versions of all CSS files</option>
                        </select>
                        <div class="validation-message">Please select CSS modification strategy</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Responsive Requirements:</label>
                        <textarea name="f4_notes" placeholder="Specify mobile breakpoints, responsive features, or CSS modification preferences..."></textarea>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question-card" data-question-id="5">
                    <span class="question-id">F5</span>
                    <span class="category-badge implementation-badge">Error Recovery</span>
                    <div class="question-text">Given the extensive scope, how should I handle partial failures or interruptions during the migration process?</div>
                    <div class="answer-section">
                        <label class="answer-label">Error Recovery Strategy:</label>
                        <select name="f5_answer" required>
                            <option value="">-- Select Recovery Strategy --</option>
                            <option value="ROLLBACK_ON_ERROR">ROLLBACK_ON_ERROR - Automatic rollback to backup on any error</option>
                            <option value="CONTINUE_WITH_LOGGING">CONTINUE_WITH_LOGGING - Continue migration with detailed error logging</option>
                            <option value="PAUSE_FOR_REVIEW">PAUSE_FOR_REVIEW - Pause migration for manual review of each error</option>
                            <option value="CHECKPOINT_SYSTEM">CHECKPOINT_SYSTEM - Create checkpoints for resuming after interruption</option>
                            <option value="FAIL_FAST">FAIL_FAST - Stop immediately on first error for review</option>
                        </select>
                        <div class="validation-message">Please select recovery strategy</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Error Handling Preferences:</label>
                        <textarea name="f5_notes" placeholder="Specify error tolerance, recovery preferences, or specific error handling requirements..."></textarea>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-card" data-question-id="6">
                    <span class="question-id">F6</span>
                    <span class="category-badge critical-badge">Final Validation</span>
                    <div class="question-text">After this comprehensive migration, what level of testing and validation should I perform before considering it complete?</div>
                    <div class="context-box">
                        <div class="context-label">Validation Areas:</div>
                        <div>• All internal links work correctly</div>
                        <div>• Navigation buttons function properly</div>
                        <div>• Mobile responsiveness on all devices</div>
                        <div>• Cross-reference accuracy between PlainEnglish/Technical</div>
                        <div>• Archive integrity and recovery capability</div>
                    </div>
                    <div class="answer-section">
                        <label class="answer-label">Final Validation Level:</label>
                        <select name="f6_answer" required>
                            <option value="">-- Select Validation Level --</option>
                            <option value="COMPREHENSIVE_TESTING">COMPREHENSIVE_TESTING - Full automated and manual testing</option>
                            <option value="AUTOMATED_VALIDATION">AUTOMATED_VALIDATION - Automated link and structure validation</option>
                            <option value="SPOT_CHECK_TESTING">SPOT_CHECK_TESTING - Test representative samples from each category</option>
                            <option value="BASIC_VERIFICATION">BASIC_VERIFICATION - Verify files exist and basic functionality</option>
                            <option value="USER_ACCEPTANCE_TESTING">USER_ACCEPTANCE_TESTING - Prepare for user review and testing</option>
                        </select>
                        <div class="validation-message">Please select validation level</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Testing Requirements:</label>
                        <textarea name="f6_notes" placeholder="Specify testing priorities, specific validation requirements, or user testing preferences..."></textarea>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="question-card" data-question-id="7">
                    <span class="question-id">F7</span>
                    <span class="category-badge scope-badge">Documentation Updates</span>
                    <div class="question-text">Should I update any README files or documentation to reflect the new FileDefinitions- naming convention and structure changes?</div>
                    <div class="answer-section">
                        <label class="answer-label">Documentation Update Strategy:</label>
                        <select name="f7_answer" required>
                            <option value="">-- Select Documentation Strategy --</option>
                            <option value="UPDATE_ALL_READMES">UPDATE_ALL_READMES - Update all README files with new structure</option>
                            <option value="CREATE_MIGRATION_GUIDE">CREATE_MIGRATION_GUIDE - Create comprehensive migration documentation</option>
                            <option value="UPDATE_INDEXES_ONLY">UPDATE_INDEXES_ONLY - Update only main index files</option>
                            <option value="FLAG_FOR_SEPARATE_TASK">FLAG_FOR_SEPARATE_TASK - Flag documentation updates for separate task</option>
                            <option value="NO_DOCUMENTATION_UPDATES">NO_DOCUMENTATION_UPDATES - No documentation updates needed</option>
                        </select>
                        <div class="validation-message">Please select documentation strategy</div>
                    </div>
                    <div class="notes-section">
                        <label class="answer-label">Documentation Preferences:</label>
                        <textarea name="f7_notes" placeholder="Specify which documentation needs updates or migration guide requirements..."></textarea>
                    </div>
                </div>
            </form>
        </div>

        <div class="action-buttons">
            <div class="stats">
                <div class="stat-item">
                    <span>??</span>
                    <span>Progress: <span id="progressText">0/7</span></span>
                </div>
                <div class="stat-item">
                    <span>?</span>
                    <span>Answered: <span id="answeredCount">0</span></span>
                </div>
                <div class="stat-item">
                    <span>??</span>
                    <span>Remaining: <span id="remainingCount">7</span></span>
                </div>
            </div>
            <div style="display: flex; gap: 15px;">
                <button type="button" class="btn btn-secondary" onclick="validateForm()">
                    <span>??</span>
                    Validate Answers
                </button>
                <button type="button" class="btn btn-danger" onclick="showScopeWarning()">
                    <span>??</span>
                    Scope Warning
                </button>
                <button type="button" class="btn btn-primary" onclick="exportAnswers()">
                    <span>??</span>
                    Finalize Configuration
                </button>
                <button type="button" class="btn btn-success" onclick="downloadAnswers()" style="display: none;" id="downloadBtn">
                    <span>??</span>
                    Download Final Config
                </button>
            </div>
        </div>
    </div>

    <script>
        let answeredQuestions = new Set();
        const totalQuestions = 7;

        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('questionsForm');
            const inputs = form.querySelectorAll('select, input, textarea');
            
            inputs.forEach(input => {
                input.addEventListener('change', updateProgress);
                input.addEventListener('input', updateProgress);
            });
            
            updateProgress();
        });

        function updateProgress() {
            const form = document.getElementById('questionsForm');
            const selects = form.querySelectorAll('select[required]');
            answeredQuestions.clear();
            
            selects.forEach((select, index) => {
                const questionCard = select.closest('.question-card');
                if (select.value) {
                    answeredQuestions.add(index + 1);
                    questionCard.classList.add('answered');
                    questionCard.classList.remove('invalid');
                } else {
                    questionCard.classList.remove('answered');
                }
            });
            
            const answered = answeredQuestions.size;
            const remaining = totalQuestions - answered;
            const percentage = (answered / totalQuestions) * 100;
            
            document.getElementById('progressFill').style.width = `${percentage}%`;
            document.getElementById('progressText').textContent = `${answered}/${totalQuestions}`;
            document.getElementById('answeredCount').textContent = answered;
            document.getElementById('remainingCount').textContent = remaining;
        }

        function showScopeWarning() {
            alert(`?? MIGRATION SCOPE WARNING ??

Your requirements have expanded this migration significantly:

ORIGINAL SCOPE:
• Migrate ~27 FileDefinitions from Docs to HTML folder

EXPANDED SCOPE:
• 27 FileDefinitions (PlainEnglish + Technical) = 54 new files
• 3 Root files (PlainEnglish + Technical) = 6 transformed files  
• ALL existing HTML files renamed with FileDefinitions- prefix
• ALL existing HTML files get navigation buttons
• ALL existing HTML files upgraded for mobile responsiveness
• ALL links updated throughout HTML folder
• ALL index files updated
• CSS modifications for responsiveness
• Archive creation and cleanup

TOTAL IMPACT: 50+ files across entire Documentation/HTML structure

This is now a comprehensive documentation modernization project rather than a simple migration.

Please confirm you want to proceed with this expanded scope.`);
        }

        function validateForm() {
            const form = document.getElementById('questionsForm');
            const selects = form.querySelectorAll('select[required]');
            let isValid = true;
            
            selects.forEach(select => {
                const questionCard = select.closest('.question-card');
                if (!select.value) {
                    questionCard.classList.add('invalid');
                    isValid = false;
                } else {
                    questionCard.classList.remove('invalid');
                }
            });
            
            if (isValid) {
                alert(`? All implementation questions answered!

Ready to execute comprehensive FileDefinitions migration with:
• Expanded scope affecting 50+ files
• Complete documentation modernization
• Mobile responsiveness upgrades
• Comprehensive validation and testing

This will be a significant transformation of your documentation system.`);
            } else {
                const unanswered = totalQuestions - answeredQuestions.size;
                alert(`?? Please answer all questions. ${unanswered} question(s) still need answers.`);
                
                const firstInvalid = document.querySelector('.question-card.invalid');
                if (firstInvalid) {
                    firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
            
            return isValid;
        }

        function exportAnswers() {
            if (!validateForm()) {
                return;
            }
            
            const form = document.getElementById('questionsForm');
            const formData = new FormData(form);
            const answers = {};
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
            
            for (let [key, value] of formData.entries()) {
                answers[key] = value;
            }
            
            const csvContent = createCSV(answers);
            const jsonContent = JSON.stringify({
                timestamp: new Date().toISOString(),
                questionnaire: "FileDefinitions Migration - Final Implementation Questions",
                project: "MTM WIP Application Avalonia",
                totalQuestions: totalQuestions,
                answeredQuestions: answeredQuestions.size,
                migrationScope: "COMPREHENSIVE_DOCUMENTATION_MODERNIZATION",
                estimatedFilesAffected: "50+",
                answers: answers
            }, null, 2);
            
            const htmlContent = createHTMLSummary(answers, timestamp);
            
            document.getElementById('downloadBtn').style.display = 'flex';
            
            window.exportedData = {
                csv: csvContent,
                json: jsonContent,
                html: htmlContent,
                timestamp: timestamp
            };
            
            alert(`? Final configuration complete!

?? Migration Summary:
• ${answeredQuestions.size} implementation questions answered
• Comprehensive scope validated
• Ready for execution

This will be a major documentation modernization project.
Click "Download Final Config" to save your complete configuration.`);
        }

        function createCSV(answers) {
            let csv = 'Question_ID,Category,Question,Answer,Notes\n';
            
            const questions = [
                {id: 'F1', category: 'Critical_Scope', question: 'Backup strategy for expanded scope affecting 50+ files'},
                {id: 'F2', category: 'Implementation_Order', question: 'Migration execution order for extensive cross-file dependencies'},
                {id: 'F3', category: 'Link_Management', question: 'External link handling with FileDefinitions- prefix on all files'},
                {id: 'F4', category: 'Mobile_Responsiveness_Scope', question: 'CSS modification strategy for UPGRADE_ALL responsiveness'},
                {id: 'F5', category: 'Error_Recovery', question: 'Error recovery strategy for extensive migration scope'},
                {id: 'F6', category: 'Final_Validation', question: 'Testing and validation level after comprehensive migration'},
                {id: 'F7', category: 'Documentation_Updates', question: 'README and documentation update strategy for structure changes'}
            ];
            
            questions.forEach(q => {
                const answer = answers[`${q.id.toLowerCase()}_answer`] || '';
                const notes = answers[`${q.id.toLowerCase()}_notes`] || '';
                csv += `"${q.id}","${q.category}","${q.question.replace(/"/g, '""')}","${answer}","${notes.replace(/"/g, '""')}"\n`;
            });
            
            return csv;
        }

        function createHTMLSummary(answers, timestamp) {
            // HTML generation code similar to previous examples
            return `<!DOCTYPE html><html><head><title>Final Implementation Configuration - ${timestamp}</title></head><body><h1>Complete Migration Configuration</h1><p>Comprehensive FileDefinitions Migration with Documentation Modernization</p></body></html>`;
        }

        function downloadAnswers() {
            if (!window.exportedData) {
                alert('No data to download. Please finalize configuration first.');
                return;
            }
            
            const { csv, json, html, timestamp } = window.exportedData;
            
            downloadFile(csv, `FileDefinitions_Migration_Final_Implementation_${timestamp}.csv`, 'text/csv');
            downloadFile(json, `FileDefinitions_Migration_Final_Implementation_${timestamp}.json`, 'application/json');
            downloadFile(html, `FileDefinitions_Migration_Final_Implementation_${timestamp}.html`, 'text/html');
            
            alert(`?? Downloaded final configuration!\n\nReady to begin comprehensive documentation modernization.`);
        }

        function downloadFile(content, filename, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function autoSave() {
            const form = document.getElementById('questionsForm');
            const formData = new FormData(form);
            const data = {};
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            localStorage.setItem('mtm_migration_final_implementation', JSON.stringify(data));
        }

        function loadSaved() {
            const saved = localStorage.getItem('mtm_migration_final_implementation');
            if (saved) {
                const data = JSON.parse(saved);
                const form = document.getElementById('questionsForm');
                Object.keys(data).forEach(key => {
                    const input = form.querySelector(`[name="${key}"]`);
                    if (input) {
                        input.value = data[key];
                    }
                });
                updateProgress();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadSaved();
            
            const form = document.getElementById('questionsForm');
            const inputs = form.querySelectorAll('select, input, textarea');
            inputs.forEach(input => {
                input.addEventListener('change', autoSave);
                input.addEventListener('input', autoSave);
            });
        });
    </script>
</body>
</html>